[{"title":"如何使用curl进行http请求","date":"2016-09-01T00:13:52.000Z","path":"2016/09/01/curl/","text":"如今的互联网时代，我们在日常开发中经常需要测试HTTP[S] API，有一些含用户界面的工具使用很方便，如Chrome插件Postman等。 但作为码农的我们有时候会觉得带图形的东西还不如命令行下敲一段命令来的简便，今天介绍一款可以在命令行下测试API的工具curl。 curl是什么？ curl是一个利用URL语法在命令行下工作的文件传输工具，1997年首次发行。它支持文件上传和下载，所以是综合传输工具，但按传统，习惯称cURL为下载工具。cURL还包含了用于程序开发的libcurl。curl支持的通信协议有FTP、FTPS、HTTP、HTTPS、TFTP、SFTP、Gopher、SCP、Telnet、DICT、FILE、LDAP、LDAPS、IMAP、POP3、SMTP和RTSP。(来自wikipedia) HTTP 请求1.POST请求123456curl -H \"Content-Type: application/json\" -X POST -d \\ '&#123; \"key1\": \"value1\", \"key2\": \"value2\", ...... &#125;' http://localhost:3000/ 参数说明：-H: 表示后面紧跟请求头部参数-X: 后面紧跟请求指令，如:GET/POST/DELETE/PUT/UPDATE等，没有此参数时默认是GET请求。-d: 后紧跟HTTP POST 数据。 2. GET请求1curl -X GET http://localhost:3000/ 或者1curl http://localhost:3000/ NOTE:可用此命令查看网页源码，如：1curl www.google.com 123456&lt;!doctype html&gt;&lt;html itemscope=\"\" itemtype=\"http://schema.org/WebPage\" lang=\"en\"&gt;&lt;head&gt;&lt;meta content=\"Search the world's information, including webpages, images, videos and more. Google has many special features to help you find exactly what you're looking for.\" name=\"description\"&gt;&lt;meta content=\"noodp\" name=\"robots\"&gt;&lt;meta content=\"text/html; charset=UTF-8\" http-equiv=\"Content-Type\"&gt;&lt;meta content=\"/images/branding/googleg/1x/googleg_standard_color_128dp.png\" itemprop=\"image\"&gt;&lt;title&gt;Google&lt;/title&gt;&lt;script&gt;(function()&#123;window.google=&#123;kEI:'s7bMV_-GFMTYjwPO_oqYDw',kEXPI:'2073312,3700302,4029815,4031109,4032678,4036509,4036527,4038012,4039268,4043492,4045841,4048347,4052304,4052811,4055242,4061155,4062185,4062703,4062706,4063220,4063879,4064815,4065787,4065794,4065959,4066654,4066708,4067175,4067860,4068550,4068816,4069148,4069839,4069841,4069907,4070127,4071231,4071590,4071603,4071783,4071835,4071842,4072289,4072364,4072777,4073405,4073418,4073758,4073776,4073959,4073980,4074348,4074797,4074801,4074956,4075041,4075731,4075787,4075788,4075860,4075966,4075974,4075982,4076095,4076114,4076542,4076797,4076856,4076931,4077219,4077221,4077622,4078175,4078430,4078641,8300273,8502184,8503585,8504846,8505150,8505152,8505585,8505790,8505816,8506255,10200084,10201990',authuser:0,kscs:'c9c918f0_24'&#125;;google.kHL='en';&#125;)();(function()&#123;google.lc=[];google.li=0;google.getEI=function(a)&#123;for(var b;a&amp;&amp;(!a.getAttribute||!(b=a.getAttribute(\"eid\")));)a=a.parentNode;return b||google.kEI&#125;;google.getLEI=function(a)&#123;for(var b=null;a&amp;&amp;(!a.getAttribute||!(b=a.getAttribute(\"leid\")));)a=a.parentNode;return b&#125;;google.https=function()&#123;return\"https:\"==window.location.protocol&#125;;google.ml=function()&#123;return null&#125;;google.wl=function(a,b)&#123;try&#123;google.ml(Error(a),!1,b)&#125;catch(c)&#123;&#125;&#125;;google.time=function()&#123;return(new Date).getTime()&#125;;google.log=function(a,b,c,e,g)&#123;a=google.logUrl(a,b,c,e,g);if(\"\"!=a)&#123;b=new Image;var d=google.lc,f=google.li;d[f]=b;b.onerror=b.onload=b.onabort=function()&#123;delete d[f]&#125;;window.google&amp;&amp;window.google.vel&amp;&amp;window.google.vel.lu&amp;&amp;window.google.vel.lu(a);b.src=a;google.li=f+1&#125;&#125;;google.logUrl=function(a,b,c,e,g)&#123;var d=\"\",f=google.ls||\"\";if(!c&amp;&amp;-1==b.search(\"&amp;ei=\"))&#123;var h=google.getEI(e),d=\"&amp;ei=\"+h;-1==b.search(\"&amp;lei=\")&amp;&amp;((e=google.getLEI(e))?d+=\"&amp;lei=\"+e:h!=google.kEI&amp;&amp;(d+=\"&amp;lei=\"+google.kEI))&#125;a=c||\"/\"+(g||\"gen_204\")+\"?atyp=i&amp;ct=\"+a+\"&amp;cad=\"+b+d+f+\"&amp;zx=\"+google.time();/^http:/i.test(a)&amp;&amp;google.https()&amp;&amp;(google.ml(Error(\"a\"),!1,&#123;src:a,glmm:1&#125;),a=\"\");return a&#125;;google.y=&#123;&#125;;google.x=function(a,b)&#123;google.y[a.id]=[a,b];return!1&#125;;google.load=function(a,b,c)&#123;google.x(&#123;id:a+k++&#125;,function()&#123;google.load(a,b,c)&#125;)&#125;;var k=0;&#125;)();var _gjwl=location;function _gjuc()&#123;var a=_gjwl.href.indexOf(\"#\");if(0&lt;=a&amp;&amp;(a=_gjwl.href.substring(a),0&lt;a.indexOf(\"&amp;q=\")||0&lt;=a.indexOf(\"#q=\"))&amp;&amp;(a=a.substring(1),-1==a.indexOf(\"#\")))&#123;for(var d=0;d&lt;a.length;)&#123;var b=d;\"&amp;\"==a.charAt(b)&amp;&amp;++b;var c=a.indexOf(\"&amp;\",b);-1==c&amp;&amp;(c=a.length);b=a.substring(b,c);if(0==b.indexOf(\"fp=\"))a=a.substring(0,d)+a.substring(c,a.length),c=d;else if(\"cad=h\"==b)return 0;d=c&#125;_gjwl.href=\"/search?\"+a+\"&amp;cad=h\";return 1&#125;return 0&#125;function _gjh()&#123;!_gjuc()&amp;&amp;window.google&amp;&amp;google.x&amp;&amp;google.x(&#123;id:\"GJH\"&#125;,function()&#123;google.nav&amp;&amp;google.nav.gjh&amp;&amp;google.nav.gjh()&#125;)&#125;;window._gjh&amp;&amp;_gjh();&lt;/script&gt;&lt;style&gt;#gbar,#guser&#123;font-size:13px;padding-top:1px !important;&#125;#gbar&#123;height:22px&#125;#guser&#123;padding-bottom:7px !important;text-align:right&#125;.gbh,.gbd&#123;border-top:1px solid #c9d7f1;font-size:1px&#125;.gbh&#123;height:0;position:absolute;top:24px;width:100%&#125;@media all&#123;.gb1&#123;height:22px;margin-right:.5em;vertical-align:top&#125;#gbar&#123;float:left&#125;&#125;a.gb1,a.gb4&#123;text-decoration:underline !important&#125;a.gb1,a.gb4&#123;color:#00c !important&#125;.gbi .gb4&#123;color:#dd8e27 !important&#125;.gbf .gb4&#123;color:#900 !important&#125;&lt;/style&gt;&lt;style&gt;body,td,a,p,.h&#123;font-family:arial,sans-serif&#125;body&#123;margin:0;overflow-y:scroll&#125;#gog&#123;padding:3px 8px 0&#125;td&#123;line-height:.8em&#125;.gac_m td&#123;line-height:17px&#125;form&#123;margin-bottom:20px&#125;.h&#123;color:#36c&#125;.q&#123;color:#00c&#125;.ts td&#123;padding:0&#125;.ts&#123;border-collapse:collapse&#125;em&#123;font-weight:bold;font-style:normal&#125;.lst&#123;height:25px;width:496px&#125;.gsfi,.lst&#123;font:18px arial,sans-serif&#125;.gsfs&#123;font:17px arial,sans-serif&#125;.ds&#123;display:inline-box;display:inline-block;margin:3px 0 4px;margin-left:4px&#125;input&#123;font-family:inherit&#125;a.gb1,a.gb2,a.gb3,a.gb4&#123;color:#11c !important&#125;body&#123;background:#fff;color:black&#125;a&#123;color:#11c;text-decoration:none&#125;a:hover,a:active&#123;text-decoration:underline&#125;.fl a&#123;color:#36c&#125;a:visited&#123;color:#551a8b&#125;a.gb1,a.gb4&#123;text-decoration:underline&#125;a.gb3:hover&#123;text-decoration:none&#125;#ghead a.gb2:hover&#123;color:#fff !important&#125;.sblc&#123;padding-top:5px&#125;.sblc a&#123;display:block;margin:2px 0;margin-left:13px;font-size:11px&#125;.lsbb&#123;background:#eee;border:solid 1px;border-color:#ccc #999 #999 #ccc;height:30px&#125;.lsbb&#123;display:block&#125;.ftl,#fll a&#123;display:inline-block;margin:0 12px&#125;.lsb&#123;background:url(/images/nav_logo229.png) 0 -261px repeat-x;border:none;color:#000;cursor:pointer;height:30px;margin:0;outline:0;font:15px arial,sans-serif;vertical-align:top&#125;.lsb:active&#123;background:#ccc&#125;.lst:focus&#123;outline:none&#125;&lt;/style&gt;&lt;script&gt;&lt;/script&gt;&lt;link href=\"/images/branding/product/ico/googleg_lodp.ico\" rel=\"shortcut icon\"&gt;&lt;/head&gt;&lt;body bgcolor=\"#fff\"&gt;&lt;script&gt;(function()&#123;var src='/images/nav_logo229.png';var iesg=false;document.body.onload = function()&#123;window.n &amp;&amp; window.n();if (document.images)&#123;new Image().src=src;&#125;if (!iesg)&#123;document.f&amp;&amp;document.f.q.focus();document.gbqf&amp;&amp;document.gbqf.q.focus();&#125;&#125;&#125;)();&lt;/script&gt;&lt;div id=\"mngb\"&gt; &lt;div id=gbar&gt;&lt;nobr&gt;&lt;b class=gb1&gt;Search&lt;/b&gt; &lt;a class=gb1 href=\"http://www.google.com/imghp?hl=en&amp;tab=wi\"&gt;Images&lt;/a&gt; &lt;a class=gb1 href=\"http://maps.google.com/maps?hl=en&amp;tab=wl\"&gt;Maps&lt;/a&gt; &lt;a class=gb1 href=\"https://play.google.com/?hl=en&amp;tab=w8\"&gt;Play&lt;/a&gt; &lt;a class=gb1 href=\"http://www.youtube.com/?tab=w1\"&gt;YouTube&lt;/a&gt; &lt;a class=gb1 href=\"http://news.google.com/nwshp?hl=en&amp;tab=wn\"&gt;News&lt;/a&gt; &lt;a class=gb1 href=\"https://mail.google.com/mail/?tab=wm\"&gt;Gmail&lt;/a&gt; &lt;a class=gb1 href=\"https://drive.google.com/?tab=wo\"&gt;Drive&lt;/a&gt; &lt;a class=gb1 style=\"text-decoration:none\" href=\"https://www.google.com/intl/en/options/\"&gt;&lt;u&gt;More&lt;/u&gt; &amp;raquo;&lt;/a&gt;&lt;/nobr&gt;&lt;/div&gt;&lt;div id=guser width=100%&gt;&lt;nobr&gt;&lt;span id=gbn class=gbi&gt;&lt;/span&gt;&lt;span id=gbf class=gbf&gt;&lt;/span&gt;&lt;span id=gbe&gt;&lt;/span&gt;&lt;a href=\"http://www.google.com/history/optout?hl=en\" class=gb4&gt;Web History&lt;/a&gt; | &lt;a href=\"/preferences?hl=en\" class=gb4&gt;Settings&lt;/a&gt; | &lt;a target=_top id=gb_70 href=\"https://accounts.google.com/ServiceLogin?hl=en&amp;passive=true&amp;continue=http://www.google.com/\" class=gb4&gt;Sign in&lt;/a&gt;&lt;/nobr&gt;&lt;/div&gt;&lt;div class=gbh style=left:0&gt;&lt;/div&gt;&lt;div class=gbh style=right:0&gt;&lt;/div&gt; &lt;/div&gt;&lt;center&gt;&lt;br clear=\"all\" id=\"lgpd\"&gt;&lt;div id=\"lga\"&gt;&lt;img alt=\"Google\" height=\"92\" src=\"/images/branding/googlelogo/1x/googlelogo_white_background_color_272x92dp.png\" style=\"padding:28px 0 14px\" width=\"272\" id=\"hplogo\" onload=\"window.lol&amp;&amp;lol()\"&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;form action=\"/search\" name=\"f\"&gt;&lt;table cellpadding=\"0\" cellspacing=\"0\"&gt;&lt;tr valign=\"top\"&gt;&lt;td width=\"25%\"&gt;&amp;nbsp;&lt;/td&gt;&lt;td align=\"center\" nowrap=\"\"&gt;&lt;input name=\"ie\" value=\"ISO-8859-1\" type=\"hidden\"&gt;&lt;input value=\"en\" name=\"hl\" type=\"hidden\"&gt;&lt;input name=\"source\" type=\"hidden\" value=\"hp\"&gt;&lt;input name=\"biw\" type=\"hidden\"&gt;&lt;input name=\"bih\" type=\"hidden\"&gt;&lt;div class=\"ds\" style=\"height:32px;margin:4px 0\"&gt;&lt;input style=\"color:#000;margin:0;padding:5px 8px 0 6px;vertical-align:top\" autocomplete=\"off\" class=\"lst\" value=\"\" title=\"Google Search\" maxlength=\"2048\" name=\"q\" size=\"57\"&gt;&lt;/div&gt;&lt;br style=\"line-height:0\"&gt;&lt;span class=\"ds\"&gt;&lt;span class=\"lsbb\"&gt;&lt;input class=\"lsb\" value=\"Google Search\" name=\"btnG\" type=\"submit\"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=\"ds\"&gt;&lt;span class=\"lsbb\"&gt;&lt;input class=\"lsb\" value=\"I'm Feeling Lucky\" name=\"btnI\" onclick=\"if(this.form.q.value)this.checked=1; else top.location='/doodles/'\" type=\"submit\"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;&lt;td class=\"fl sblc\" align=\"left\" nowrap=\"\" width=\"25%\"&gt;&lt;a href=\"/advanced_search?hl=en&amp;amp;authuser=0\"&gt;Advanced search&lt;/a&gt;&lt;a href=\"/language_tools?hl=en&amp;amp;authuser=0\"&gt;Language tools&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;input id=\"gbv\" name=\"gbv\" type=\"hidden\" value=\"1\"&gt;&lt;/form&gt;&lt;div id=\"gac_scont\"&gt;&lt;/div&gt;&lt;div style=\"font-size:83%;min-height:3.5em\"&gt;&lt;br&gt;&lt;/div&gt;&lt;span id=\"footer\"&gt;&lt;div style=\"font-size:10pt\"&gt;&lt;div style=\"margin:19px auto;text-align:center\" id=\"fll\"&gt;&lt;a href=\"/intl/en/ads/\"&gt;Advertising�Programs&lt;/a&gt;&lt;a href=\"/services/\"&gt;Business Solutions&lt;/a&gt;&lt;a href=\"https://plus.google.com/116899029375914044550\" rel=\"publisher\"&gt;+Google&lt;/a&gt;&lt;a href=\"/intl/en/about.html\"&gt;About Google&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;p style=\"color:#767676;font-size:8pt\"&gt;&amp;copy; 2016 - &lt;a href=\"/intl/en/policies/privacy/\"&gt;Privacy&lt;/a&gt; - &lt;a href=\"/intl/en/policies/terms/\"&gt;Terms&lt;/a&gt;&lt;/p&gt;&lt;/span&gt;&lt;/center&gt;&lt;script&gt;(function()&#123;window.google.cdo=&#123;height:0,width:0&#125;;(function()&#123;var a=window.innerWidth,b=window.innerHeight;if(!a||!b)var c=window.document,d=\"CSS1Compat\"==c.compatMode?c.documentElement:c.body,a=d.clientWidth,b=d.clientHeight;a&amp;&amp;b&amp;&amp;(a!=google.cdo.width||b!=google.cdo.height)&amp;&amp;google.log(\"\",\"\",\"/client_204?&amp;atyp=i&amp;biw=\"+a+\"&amp;bih=\"+b+\"&amp;ei=\"+google.kEI);&#125;)();&#125;)();&lt;/script&gt;&lt;div id=\"xjsd\"&gt;&lt;/div&gt;&lt;div id=\"xjsi\"&gt;&lt;script&gt;(function()&#123;function c(b)&#123;window.setTimeout(function()&#123;var a=document.createElement(\"script\");a.src=b;document.getElementById(\"xjsd\").appendChild(a)&#125;,0)&#125;google.dljp=function(b,a)&#123;google.xjsu=b;c(a)&#125;;google.dlj=c;&#125;)();(function()&#123;window.google.xjsrm=[];&#125;)();if(google.y)google.y.first=[];if(!google.xjs)&#123;window._=window._||&#123;&#125;;window._._DumpException=function(e)&#123;throw e&#125;;if(google.timers&amp;&amp;google.timers.load.t)&#123;google.timers.load.t.xjsls=new Date().getTime();&#125;google.dljp('/xjs/_/js/k\\x3dxjs.hp.en_US.a8ZL0z9oHsI.O/m\\x3dsb_he,d/rt\\x3dj/d\\x3d1/t\\x3dzcms/rs\\x3dACT90oEtwAuVGBIK26eCcGKo-FpdnRg-pg','/xjs/_/js/k\\x3dxjs.hp.en_US.a8ZL0z9oHsI.O/m\\x3dsb_he,d/rt\\x3dj/d\\x3d1/t\\x3dzcms/rs\\x3dACT90oEtwAuVGBIK26eCcGKo-FpdnRg-pg');google.xjs=1;&#125;google.pmc=&#123;\"sb_he\":&#123;\"agen\":true,\"cgen\":true,\"client\":\"heirloom-hp\",\"dh\":true,\"dhqt\":true,\"ds\":\"\",\"fl\":true,\"host\":\"google.com\",\"isbh\":28,\"jam\":0,\"jsonp\":true,\"msgs\":&#123;\"cibl\":\"Clear Search\",\"dym\":\"Did you mean:\",\"lcky\":\"I\\u0026#39;m Feeling Lucky\",\"lml\":\"Learn more\",\"oskt\":\"Input tools\",\"psrc\":\"This search was removed from your \\u003Ca href=\\\"/history\\\"\\u003EWeb History\\u003C/a\\u003E\",\"psrl\":\"Remove\",\"sbit\":\"Search by image\",\"srch\":\"Google Search\"&#125;,\"nds\":true,\"ovr\":&#123;&#125;,\"pq\":\"\",\"refpd\":true,\"rfs\":[],\"scd\":10,\"sce\":5,\"stok\":\"8380YMzM1JBLNmlhqzMY33UBtRQ\"&#125;,\"d\":&#123;&#125;&#125;;google.y.first.push(function()&#123;if(google.med)&#123;google.med('init');google.initHistory();google.med('history');&#125;&#125;);if(google.j&amp;&amp;google.j.en&amp;&amp;google.j.xi)&#123;window.setTimeout(google.j.xi,0);&#125; 3. DELETE请求1curl -X DELETE http://localhost:3000/","tags":[{"name":"curl","slug":"curl","permalink":"http://lionel0806.github.io/tags/curl/"},{"name":"工具","slug":"工具","permalink":"http://lionel0806.github.io/tags/工具/"}]},{"title":"ReactiveCocoa中的基本算子","date":"2016-08-14T09:50:43.000Z","path":"2016/08/14/basic-operators/","text":"原文链接: Basic Operators 这个文档解释ReactiveCocoa中最常用的Operator，以及一些用例。注意Operators，在这里指的是signal和signal producers之间的转换，不是Swift中的操作符，换句话说，这些是ReactiveCocoa提供处理事件流的组合原语。该文档使用术语“事件流”来描述Signal和SignalProducer的概念。 事件流副作用观察（Observation）Signal可以被观察通过observe函数，需要一个Observer作为参数，任何事件流都会发送给它。 123456789101112signal.observe(Signal.Observer &#123; event in switch event &#123; case let .Next(next): print(\"Next: \\(next)\") case let .Failed(error): print(\"Failed: \\(error)\") case .Completed: print(\"Completed\") case .Interrupted: print(\"Interrupted\") &#125;&#125;) 或者可以用Next, Failed, Completed 和Interrupted事件的回调函数，当相应的事件发生时它（回调函数）会被调用。123456789101112signal.observeNext &#123; next in print(\"Next: \\(next)\")&#125;signal.observeFailed &#123; error in print(\"Failed: \\(error)\")&#125;signal.observeCompleted &#123; print(\"Completed\")&#125;signal.observeInterrupted &#123; print(\"Interrupted\")&#125; 注意可以不用观察所有四种类型的事件，因为参数是可选类型, 你只需要给你关心的事件提供回调函数。 Injecting effectsSignalProducer会引入副作用，当使用on操作符但没有实际订阅它。123456789101112131415161718let producer = signalProducer .on(started: &#123; print(\"Started\") &#125;, event: &#123; event in print(\"Event: \\(event)\") &#125;, failed: &#123; error in print(\"Failed: \\(error)\") &#125;, completed: &#123; print(\"completed\") &#125;, interrupted: &#123; print(\"interrupted\") &#125;, terminated: &#123; print(\"Terminated\") &#125;, disposed: &#123; print(\"Disposed\") &#125;, next: &#123; value in print(\"Next: \\(value)\") &#125;) 与observe类似，你只需要给你关心的事件提供回调函数。注意不会有任何打印直到producer调用started（也许再其他任何地方调用started）。 组合算子（Operator composition）Lifting转换事件流以下操作符可以将一个事件流转换成一个新的事件流。 Mappingmap用于事件流中所有的值，然后将结果创建成一个新的流。123456789let (signal, observer) = Signal&lt;String, NoError&gt;.pipe()signal .map&#123; string in string.uppercaseString &#125; .observeNext &#123; next in print(next) &#125; observer.sendNext(\"a\") //Prints A observer.sendNext(\"c\") //Prints B observer.sendNext(\"c\") //Prints C Filteringfilter 用于包含满足一定条件的事件流的值。12345678910let (signal, observer) = Signal&lt;Int, NoError&gt;.pipe()signal .filter &#123; number in number % 2 == 0 &#125; .observeNext &#123; next in print(next) &#125;observer.sendNext(1) //Not printedobserver.sendNext(2) //Prints 2observer.sendNext(3) //Not printedobserver.sendNext(4) //Print 4 聚集(Aggregating)reduce 用于将一个事件流中的所有值聚集成一个单一的合并后得值，注意只有当输入的流完成时才会得到最后的结果。12345678910let (signal, observer) = Signal&lt;Int, NoError&gt;.pipe()signal .reduce&#123; $0 * $1 &#125; .observeNext&#123; next in print(next) &#125;observer.sendNext(1) //Not printedobserver.sendNext(2) //Not printedobserver.sendNext(3) //Not printedobserver.sendNext(4) //Not printedobserver.sendCompleted() //print 10 collect 将一个事件流的所有值聚合到一个数组中，注意只有当输入的流完成时才会得到最后的结果。12345678910let (signal, observer) = Signal&lt;Int, NoError&gt;.pipe()signal .collect() .observeNext &#123; next in print(next) &#125;observer.sendNext(1) // nothing printedobserver.sendNext(2) // nothing printedobserver.sendNext(3) // nothing printedobserver.sendCompleted() // prints [1, 2, 3] 合并事件流（Combining event streams）这些操作会合并多个事件流中的值成一个新的、统一的流。 合并最新的值（Combining latest values）combineLatest 方法合并两个事件流最后的值。 产生的流将会发送它的第一个值当每一个输入流至少有一个值发送之后，之后，每一个输入流的新值产生一个新值输出。123456789101112131415let (numbersSignal, numbersObserver) = Signal&lt;Int, NoError&gt;.pipe()let (lettersSignal, lettersObserver) = Signal&lt;Int, NoError&gt;.pipe()let signal = combineLatest(numbersSignal, lettersSignal)signal.observeNext &#123; next in print(next) &#125;signal.observeCompleted &#123; print(\"Completed\") &#125;numbersObserver.sendNext(0) // nothing printednumbersObserver.sendNext(1) // nothing printedlettersObserver.sendNext(\"A\") // prints (1, A)numbersObserver.sendNext(2) // prints (2, A)numbersObserver.sendCompleted() // nothing printedlettersObserver.sendNext(\"B\") // prints (2, B)lettersObserver.sendNext(\"C\") // prints (2, C)lettersObserver.sendCompleted() // prints \"Completed\" combineLatestWith算子功能相同，不同的是它是一个算子。 压缩（Zipping）zip函数结合两个事件流成一对。任何第N个元组的元素相当于第N个输入流的元素。意思是说输出流的第N个值只有当每个输入流发送了至少N个值之后才会发送。 1234567891011121314let (numbersSignal, numbersObserver) = Signal&lt;Int, NoError&gt;.pipe()let (lettersSignal, lettersObserver) = Signal&lt;String, NoError&gt;.pipe()let signal = zip(numbersSignal, lettersSignal)signal.observeNext &#123; next in print(\"Next: \\(next)\") &#125;signal.observeCompleted &#123; print(\"Completed\") &#125;numbersObserver.sendNext(0) // nothing printednumbersObserver.sendNext(1) // nothing printedlettersObserver.sendNext(\"A\") // prints (0, A)numbersObserver.sendNext(2) // nothing printednumbersObserver.sendCompleted() // nothing printedlettersObserver.sendNext(\"B\") // prints (1, B)lettersObserver.sendNext(\"C\") // prints (2, C) &amp; \"Completed\" zipWith算子功能相同，不同之处是它是一个算子。 －－－未完－－－","tags":[{"name":"FRP","slug":"FRP","permalink":"http://lionel0806.github.io/tags/FRP/"},{"name":"ReactiveCocoa","slug":"ReactiveCocoa","permalink":"http://lionel0806.github.io/tags/ReactiveCocoa/"}]},{"title":"《自控力》读书笔记","date":"2016-05-20T09:50:43.000Z","path":"2016/05/20/自控力读书笔记/","text":"一. 意志力是什么？1意志力其实是“我要做”，“我不要”和“我想要”这三种力量。 深入剖析: 更难的事是什么？想象你正面临一个意志力挑战，更难的事是什么？它为什么这么困难？ 认清两个自我。你的意志力挑战是，如何描述想抗衡的两个自我？冲动的你想要什么？明智的你想要什么？ 意志力实验 记录你的意志力选择。至少一天，注意观察你做的关于意志力的决定。 5分钟大脑训练冥想。在脑海中默念“呼”和“吸”，把注意力集中在呼吸上。当你走神的时候，重新集中注意力。 二. 意志力的本能：人生来就能抵制奶酪蛋糕的诱惑1意志力是种生理本能，它和压力一样，通过不断进化来保护我们不受自身伤害。 深入剖析 什么是威胁？对你的意志力挑战来说，什么是需要克制的内在冲动？ 压力和自控，试着找出持续一整天或以整周德压力，看看它对你的自控力产生怎样的影响。你有过强烈的欲望吗？你发过脾气吗？你把要做的事拖到明天吗？ 意志力实验 呼吸出你的自控力。把你的呼吸降到每分钟4～6次，将身体调整到适合自控的生理状态。 5分钟给意志力加油。出门活动，哪怕是只在周围转转，也能减少压力，改善心情，提供动力。 睡眠。打盹和补觉可以消除睡眠不足的影响。 放松能让你恢复意志力储备。躺下，深呼吸，让“放松的生理反应”帮你从自控和压力造成的疲惫中恢复过来。 三. 累到无力抵抗，为什么自控力和肌肉一样有极限？1自控力像肌肉一样有极限，自控力用得太多会疲惫，但坚持锻炼能增强自控力。 深入剖析 意志力的上下波动。 本周，记录你的自控力，特别注意什么时候你的意志力强，什么时候你容易放弃。 你的疲惫感是真的吗？下次你觉得自己太“疲惫”而无法自控的时候，看看自己能不能挺过第一波疲惫，向前迈出一步。 意志力实验 意志力饮食。确保你的身体摄入了足够的食物，能为你提供足够的能量。 意志力锻炼。本周，选择一件事做（“我想要”的力量）或不做（“我不想”的力量），或者纪录一件你不曾关注的事情，以此锻炼你的“自控力肌肉”。 发现你的“我想要”的力量。发现自己最重要的“我想要”的力量，也就是你脆弱的时候给你力量的东西，每当你面对诱惑，想要放弃的时候，想一想这个东西。 四. 容忍罪恶：为何善行之后会有恶行？12当我们将意志力挑战看成衡量道德水平的标准时，善行就会允许我们做坏事，为了能更好的自控，我们要忘掉 美德，关注目标和价值观。 深入剖析 善与恶：当你的意志力挑战成功时，你会不会告诉自己你很“好”，然后允许自己做一些“坏”事。 你是否向明天赊账？你是否会告诉自己明天会弥补今天的过错？如果是这样的话，你是否真的弥补上了？光环效应：你是不是看到了坏东西好的一面，如折扣省钱，零脂肪，保护环境？ 你觉得自己是谁？当你想到你的意志力挑战时，你觉得哪部分的你才是“真实”的你？是想追求目标的你，还是需要被控制的你？ 意志力实验 明天和今天毫无区别，当你想改变行为的时候，试着减小行为的变化性，而不是减少某种行为。 取消许可，牢记理由。下一回，当你发现自己在用曾经的善行为放纵辩护的时候，停下来想一想做“好”事的原因，而不是你应不应该得到奖励。","tags":[{"name":"自控力","slug":"自控力","permalink":"http://lionel0806.github.io/tags/自控力/"},{"name":"读书笔记","slug":"读书笔记","permalink":"http://lionel0806.github.io/tags/读书笔记/"}]},{"title":"Xcode快捷键","date":"2016-03-09T17:28:41.000Z","path":"2016/03/10/Xcode-keyboard-shortcuts/","text":"Xcode提供很多快捷键，我们不可能都记住，但平时的开发中如果能尽可能多的使用快捷键，效率会提高不少，下面总结了Xcode的一些常用快捷键： 快捷键 功能 星级 command + shift + O 打开搜索窗口 ＊＊＊＊＊ command + 0 显示／隐藏导航区 ＊＊＊＊＊ command + 1~n 选择不同的导航器 ＊＊＊＊ command + option + J 过滤导航结果 ＊＊＊ command + shift + Y 显示／隐藏调试区 ＊＊＊＊ command + option + 0 显示／隐藏实用工具区选项卡 ＊＊＊ command + option + 1~n 切换使用工具区选项卡 ＊＊＊ control + 6 方法跳转菜单 ＊＊＊＊ control + command + Up／Down 对应文件导航 ＊＊＊＊ control + command + Left／Right 查看历史文件 ＊＊＊＊＊ control + command + E 重构符 ＊＊＊＊＊ control + command + J 查看符号来源 ＊＊＊ command + shift + ]／[ 移动到上一个／下一个标签 ＊＊＊＊＊ command + option + ]／［ 整行代码上／下移动 ＊＊＊ command + R 运行应用 ＊＊＊＊＊ command + B 构建应用 ＊＊＊＊＊ control + . 停止运行的应用 ＊＊＊＊＊ control + i 格式化应用 ＊＊＊","tags":[{"name":"Xcode, 快捷键","slug":"Xcode-快捷键","permalink":"http://lionel0806.github.io/tags/Xcode-快捷键/"}]},{"title":"如何解决retain cycle","date":"2015-10-28T12:35:40.000Z","path":"2015/10/28/the-solution-of-retain-cycle/","text":"retain cycle 当遇到retain cycle是，一般我们的解决办法是让一个变为weak reference，而选择让那个变成weak reference是个问题。 我们可以把存在retain cycle的两个对象看成是 父－子 关系。 在这个关系当中，父可以拥有子，但是子不可以拥有父，因此，在这个问题中，我们可以把作为 父 的对象定义为strong， 而作为 子 的对象定义为weak，这样就解决了retain cycle。","tags":[{"name":"iOS","slug":"iOS","permalink":"http://lionel0806.github.io/tags/iOS/"}]},{"title":"一个iOS View crash问题","date":"2015-10-15T07:00:29.000Z","path":"2015/10/15/an-ios-view-crash-error/","text":"[2015-10-15]用xib做了一个简单的界面，程序启动时会crash掉，xcode error打印信息： Terminating app due to uncaught exception ‘UIViewControllerHierarchyInconsistency’, reason: ‘A view can only be associated with at most one view controller at a time! View &gt; is associated with . Clear this association before associating this view with .’","tags":[{"name":"iOS","slug":"iOS","permalink":"http://lionel0806.github.io/tags/iOS/"}]},{"title":"Hello Hexo","date":"2015-10-14T01:25:10.000Z","path":"2015/10/14/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://lionel0806.github.io/tags/Hexo/"}]},{"title":"开始使用hexo生成blog","date":"2015-10-13T15:37:00.000Z","path":"2015/10/13/blog-from-jekyll-to-hexo/","text":"hello, hexo ！","tags":[{"name":"hexo","slug":"hexo","permalink":"http://lionel0806.github.io/tags/hexo/"}]},{"title":"【翻译】Swift 条件展开初始化","date":"2015-10-06T10:22:13.000Z","path":"2015/10/06/conditional-unwrapping-initialization/","text":"原文链接：Idiomatic Swift: conditional unwrapping initialization Swift-Users上，Dan T 问： 目前我这样写：1234567let dobString: Stringif let dob = dob &#123; dobString = serverDateFormatter.stringFromDate(dob)&#125;else &#123; dobString = \"\"&#125; 有没有更好，更通用的方法实现同样的功能？ 我假设serverDateFormatter是NSDateFormatter的实例，这样的话，Dan这样写会更好：&gt;1234let dobString: String = &#123; guard let dob = dob else &#123; return \"\" &#125; return serverDateFormatter.string(from: dob)&#125; 我认为这样写更清晰，dobString只出现了一次。（如果他没有用NSDateFormatter，并且需要第二层展开，guard let语句需要第二个分句来执行条件绑定在stringFromDate返回的结果上）。 Update：Tim Vermeulen 有更漂亮的一行解决方案：&gt;1let dobString = dob.flatMap(serverDateFormatter.stringFromDate) ?? \"\" 我很确定以上代码中flatMap可以用map代替，这样可以节约四个字符。你有更好的方案？可以在评论里留言，发推文，或者发到Swift-Users 邮件列表","tags":[{"name":"Swift","slug":"Swift","permalink":"http://lionel0806.github.io/tags/Swift/"},{"name":"iOS","slug":"iOS","permalink":"http://lionel0806.github.io/tags/iOS/"},{"name":"翻译","slug":"翻译","permalink":"http://lionel0806.github.io/tags/翻译/"}]},{"title":"Storyboard 分离","date":"2015-07-20T15:02:08.000Z","path":"2015/07/20/storyboard-separation/","text":"毋庸置疑，Storyboard是Apple公司一直推荐的界面开发方式，可以从Xcode这几年的更新中对Storyboard功能和特性的添加和升级中看出。使用Storyboard最大的好处是将界面与代码分离，大大的提高了开发效率，同时通过Storyboard可以很清晰的看到应用的交互逻辑。当然也有不足，当多个人维护一个Storyboard时，容易形成冲突，这给合并分支合并带来很大麻烦，那么如何使用Storyboard规避它的不足，让优势得到更大的发挥呢？ 分离Storyboard。将Storyboard尽量分成一个人处理的范围，每个Storyboard尽量控制少用5个试图，这样的好处是大大减少的多个人修改一个Storyboard时冲突的情况，同时多个小的Storyboard的读取和渲染性能笔单独一个大的Storyboard好的多。 分离Storyboard很简单，如下图, TabBarViewController 包含两个子视图控制器，同时每个子视图控制器又指向其它视图控制器，我们的目标是将两个子视图控制器以及它指向的视图控制器分离成单独的Storyboard： 首先，选中需要分离成单独的Storyboard的所有视图，然后Editor -&gt; Refactor to Storyboard ,如下图： 这样就将一个大的Storyboard分成3个小的Storyboard，如下图：","tags":[{"name":"Storyboard","slug":"Storyboard","permalink":"http://lionel0806.github.io/tags/Storyboard/"},{"name":"iOS","slug":"iOS","permalink":"http://lionel0806.github.io/tags/iOS/"}]},{"title":"统一账户管理系统RESTful api设计","date":"2015-04-09T16:00:00.000Z","path":"2015/04/10/2015-04-10-ldapadmin-design/","text":"LDAPAdmin, 为用户管理提供一组API，以HTTP-based RESTful API的形式提供服务，提供了对ldap数据的增删改查功能。主要用到了HTTP的四种方法：GET， POST， PUT和 DELETE。 下面主要对LDAPAdmin 的REST Api做个简单介绍： FunctionalityTerminologyUser stories 利用该组件的HTTP API，通过提交一组描述 用户／部门／系统／管理员的JSON数据，添加、删除、更新、查询数据； 利用该组件的HTTP API，可以方便的添加一条 用户／部门／系统／管理员记录； 利用该组件的HTTP API，可以方便的更新一条指定的 用户／部门／系统／管理员记录； 利用该组件的HTTP API，可以方便的将指定的 用户／部门／系统／管理员删除； Scope and Non-ScopeScope 用户／部门／系统／管理员 信息相关数据的添加、更新、删除； 查询 用户／部门／系统／管理员的信息； 用户／部门／系统／管理员 的有效性； Non-Scope 用户数据的可靠性，数据由管理员负责维护 Low-level DesignResponse Code Code Remind Description 200 OK – [GET] 成功返回用户请求的数据 201 CREATED – [POST/PUT] 新建/修改数据成功 204 NO CONTENT – [DELETE] 删除数据成功 400 INVALID REQUEST – [POST/PUT 用户发出请求有误，服务器没有新建/修改数据 401 Unauthorized – [*] token认证失败，token过期等情况 403 Forbidden – [*] 用户认证成功，但没有权限进行相应操作（权限细分） 404 NOT FOUND – [*] 请求的资源（在这里是表、字段不存在等情况） 406 NOT Acceptable – [GET] 用户请求的格式不可得 500 INTERNAL SERVER ERROR – [*] 服务器内部错误，用户无法判断请求是否成功 Response| Result除了每个响应都携带的返回码和可选的description字段，以下为该API的返回结果（具体形式在每种请求中都有举例）： Method Description GET 返回被查询对象的列表，或为空（查询结果为空） POST 返回是否插入成功（1为成功，0为失败） PUT 返回被修改的行数 DELETE 返回被删除的行数 Http methods table1.用户 HTTP Method URI Description GET /v1/user 获取所有用户记录 GET /v1/user/:id 根据id获取记录 POST /v1/user 添加用户记录 PUT /v1/user/:id 修改某个用户记录 DELETE /v1/user/:id 删除某个用户记录 2. 部门 HTTP Method URI Description GET /v1/department 获取所有部门记录 GET /v1/department/:id 根据id获取部门记录 GET /v1/department/:id?type=subtree 根据id获取该部门下所有的用户和子部门记录 POST /v1/department 添加部门记录 PUT /v1/department/:id 修改某个部门记录 DELETE /v1/department/:id 删除某个部门记录 3. 系统 HTTP Method URI Description GET /v1/system 获取所有组记录 GET /v1/system/:id 根据id获取记录 POST /v1/system 添加组记录 PUT /v1/system/:id 修改某个组记录 DELETE /v1/system/:id 删除某个组记录 4. 管理员 HTTP Method URI Description GET /v1/admin 获取所有管理员记录 GET /v1/admin/:id 根据id获取记录 POST /v1/admin 添加管理员记录 PUT /v1/admin/:id 修改某个管理员记录 DELETE /v1/admin/:id 删除某个管理员记录 Record infomations1.用户Response 12345678&#123; \"Id\": $&#123;id&#125;, //用户ID \"UserName\": $&#123;user name&#125;, //用户名 \"Password\": $&#123;password&#125;, //密码 \"Department\": $&#123;department&#125;, //所属部门 \"Mail\": $&#123;mail&#125;, //邮件 \"Telephone\": $&#123;telephone&#125;, //电话&#125; 2.部门Response 12345&#123; \"Id\": $&#123;id&#125;, //部门ID \"Name\": $&#123;name&#125;, //部门名 \"Parent\", $&#123;parent&#125; //上级部门 &#125; 3.系统Response 12345&#123; \"Id\": $&#123;id&#125;, //组ID \"Name\": $&#123;name&#125;, //组名 \"Member\", $&#123;member&#125; //成员&#125; 4. 管理员Response 12345&#123; \"Id\": $&#123;id&#125;, //管理员ID \"Name\": $&#123;name&#125;, //名字 \"Password\", $&#123;password&#125; //密码 &#125; RESTful API1. 用户 GET /v1/user 此API用于查询所有 用户记录 123456789Request:GET / HTTP/1.1Response:HTTP/1.1 200 OKContent-Type: application/json&#123;&#125; Example下面的示例将查询用户信息 12345678910111213RequestGET /v1/user HTTP/1.1ResponseHTTP/1.1 200 OKContent-Type: application/json[ &#123; &#125;, &#123; &#125;, ......] GET /v1/user/:id此API用于查询指定的用户记录 123456789RequestGET /v1/user/:id HTTP/1.1ResponseHTTP/1.1 200 OKContent-Type: application/json&#123;&#125; Example下面的示例将查询id为1的用户录 123456789101112RequestGET /v1/user/1 HTTP/1.1ResponseHTTP/1.1 200 OKContent-Type: application/json&#123; \"code\": 0, \"rows\": 1, \"result\": [&#123;\"id\": \"1\", \"name\": \"xxxx\", \"password\": \"xxxx\", \"department\":[1, 2], \"mail\":\"xxx@xywy.com\", \"telephone\":\"15212233445\"&#125;]&#125; POST /v1/user此API用于新增 用户记录记录 12345678910111213141516RequestPOST /v1/user HTTP/1.1Content-Type: application/json&#123; $&#123;Record informations&#125;&#125;ResponseHTTP/1.1 201 CREATEDContent-Type: application/json&#123; \"code\":$&#123;code&#125;, //type is int \"id\": $&#123;id&#125; //type is string, specifing the id inserted, which can be used in querying through the id &#125; Example下面的示例将插入 用户记录 123456789101112131415RequestPOST /v1/user HTTP/1.1Content-Type: application/json&#123; $&#123;Record informations&#125;&#125;ResponseHTTP/1.1 201 CREATEDContent-Type: application/json&#123; \"code\": 0, \"id\": 1&#125; PUT /v1/user/:id此API用于修改用户记录 123456789101112131415RequestPOST /v1/user/:id HTTP/1.1Content-Type: application/json&#123;&#125;ResponseHTTP/1.1 201 CREATEDContent-Type: application/json&#123; \"code\":0, \"rows\": $&#123;line&#125; //type is int&#125; Example下面的示例将修改用户信息 123456789101112131415RequestPUT /v1/user/1 HTTP/1.1Content-Type: application/json&#123;&#125;ResponseHTTP/1.1 201 UPDATEDContent-Type: application/json&#123; \"code\": 0, \"rows\"：3&#125; DELETE /v1/user/:id此API用于删除用户记录 12345678RequestDELETE /v1/user/:id&#123;&#125;ResponseHTTP/1.1 204 NO CONTENTContent-Type: application/json Example下面的示例将删除用户记录 123456RequestDELETE /v1/user/1 HTTP/1.1&#123;&#125;ResponseHTTP/1.1 204 NO CONTENT 部门 GET /v1/department此API用于查询所有部门记录 123456789RequestGET /v1/department HTTP/1.1ResponseHTTP/1.1 200 OKContent-Type: application/json&#123; $&#123;Record informentions&#125;&#125; Example下面的示例将查询部门信息 1234567891011121314RequestGET /v1/department HTTP/1.1ResponseHTTP/1.1 200 OKContent-Type: application/json[ &#123; &#125;, &#123; &#125;, ......] GET /v1/department/:id此API用于查询指定的部门记录 123456789RequestGET /v1/department/:id HTTP/1.1ResponseHTTP/1.1 200 OKContent-Type: application/json&#123;&#125; Example下面的示例将查询id为1的部门记录 1234567891011RequestGET /v1/department/1 HTTP/1.1ResponseHTTP/1.1 200 OKContent-Type: application/json&#123; \"code\": 0, \"rows\": 1, \"result\": [&#123;\"id\": \"1\", \"name\": \"zonghezhikongzhongxin\", \"parent\": \"\"]&#125; GET /v1/department/:id?type=subtree此API用于查询指定的部门的所有子用户和子部门记录（树形结构） 123456789RequestGET /v1/department/:id?type=subtree HTTP/1.1ResponseHTTP/1.1 200 OKContent-Type: application/json&#123;&#125; Example下面的示例将查询id为1的部门的详细信息（包括子部门和用户）记录 12345678910111213141516171819202122RequestGET /v1/department/1?type=subtree HTTP/1.1ResponseHTTP/1.1 200 OKContent-Type: application/json&#123; \"code\": 0, \"rows\": 1, \"result\": &#123; \"user\":[ &#123;\"id\": 1, \"name\": \"xxxx\", \"department\":[1], \"mail\":\"xxxx@xywy.com\", \"telephone\":\"xxxxx\"&#125;, &#123;\"id\": 2, \"name\": \"xxxxx\",\"department\":[1, 2], \"mail\":\"xxxxx@xywy.com\", \"telephone\":\"xxxxx\"&#125;, ...... ] \"department\":[ &#123;\"id\": 1 \"name\":\"sa\", \"parent\":1&#125;, &#123; \" id\": 1, \"name\" : \"anquan\", \"parent\" : 1 &#125; ...... ] &#125; POST /v1/department此API用于新增 部门记录 12345678910111213141516RequestPOST /v1/department HTTP/1.1Content-Type: application/json&#123; $&#123;Record informations&#125;&#125;ResponseHTTP/1.1 201 CREATEDContent-Type: application/json&#123; \"code\":$&#123;code&#125;, //type is int \"id\": $&#123;id&#125; //type is string, specifing the id inserted, which can be used in querying through the id &#125; Example下面的示例将插入部门记录 12345678910111213141516RequestPOST /v1/department HTTP/1.1Content-Type: application/json&#123; $&#123;Record informations&#125;&#125;ResponseHTTP/1.1 201 CREATEDContent-Type: application/json&#123; \"code\": 0, \"id\": 1&#125; PUT /v1/department/:id此API用于修改部门记录 123456789101112131415RequestPOST /v1/department/:id HTTP/1.1Content-Type: application/json&#123;&#125;ResponseHTTP/1.1 201 CREATEDContent-Type: application/json&#123; \"code\":0, \"rows\": $&#123;line&#125; //type is int&#125; Example下面的示例将修改ID为1的部门信息 12345678910111213141516RequestPUT /v1/department/1 HTTP/1.1Content-Type: application/json&#123;&#125;ResponseHTTP/1.1 201 UPDATEDContent-Type: application/json&#123; \"code\": 0, \"rows\"：3&#125; DELETE /v1/department/:id此API用于删除部门记录 123456789RequestDELETE /v1/department/:id&#123;&#125;ResponseHTTP/1.1 204 NO CONTENTContent-Type: application/json Example下面的示例将删除部门记录 1234567RequestDELETE /v1/department/1 HTTP/1.1&#123;&#125;ResponseHTTP/1.1 204 NO CONTENT 3. 系统／管理员 与 用户Api很类似，只是URI稍有不同系统： /v1/system管理员： /v1/admin返回记录信息在 Record informations中有说明。","tags":[{"name":"API","slug":"API","permalink":"http://lionel0806.github.io/tags/API/"},{"name":"LDAP","slug":"LDAP","permalink":"http://lionel0806.github.io/tags/LDAP/"}]},{"title":"工具","date":"2015-03-14T11:03:00.000Z","path":"2015/03/14/2015-03-14-tools/","text":"jira:项目与事务跟踪工具，被广泛应用于缺陷跟踪、客户服务、需求收集、流程审批、任务跟踪、项目跟踪和敏捷管理等工作领域. confluence:企业知识管理与协同软件，也可以用于构建企业wiki。 GitLab:基于Git的开源项目，客用于搭建私有的Github。 Riemann:报警系统，函数式编程语言clojure编写，可配置性强，可以和OpenTSDB等时间序列存贮系统结合，构建企业报警系统。","tags":[{"name":"工具","slug":"工具","permalink":"http://lionel0806.github.io/tags/工具/"}]},{"title":"markdown语法","date":"2015-03-12T11:12:19.000Z","path":"2015/03/12/markdown语法/","text":"本文转自这里 使用 Markdown 真的可以写出非常整洁的文档来，看到很多人都在使用，自己也忍不住学习了下。网上有很多讲解 markdown 语法的，资料庞大复杂不够简练，学个基础语法置于这么麻烦么。我做了一些整理，保证你学了这些，就可以使用 markdown 去秀文档了。 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879801、标题：#h1级标题##h2级标题###h3级标题####h4级标题#####h5级标题######h6级标题2、分割线：三个以上的短线 即可作出分割线(需要空行隔开生效)3、超链接：[连接名称](网址 , 标题)[我是链接名](http://www.izhangbo.cn, “我是标题”)[&lt;i class=”icon-refresh”&gt;&lt;/i&gt; 点我刷新](/sonfilename/)另一种超链接写法：[链接名][链接代号][here][3]然后在别的地方定义 3 这个详细链接信息，[3]: http://www.izhangbo.cn “haode”4、键盘键&lt;kbd&gt;Ctrl+[&lt;/kbd&gt; and &lt;kbd&gt;Ctrl+]&lt;/kbd&gt;5、code格式：反引号Use the `printf()` function.“There is a literal backtick (`) here.针对在代码区段内插入反引号的情况“6、强调：*斜体强调***粗体强调**7、图片![Alt text](/path/to/img.jpg “Optional title”)8、上角标这里加个上角标[^stackedit][^stackedit]:角标内容详情9、使用 icon 图标文字&lt;i class=”icon-cog”&gt;&lt;/i&gt;10、段落：以一个空行开始，以一个空行结束，中间的就是一个段落。11、表格：这个稍微有些复杂Item | Value——– | —Computer | $1600Phone | $12Pipe | $112、无序列表：使用 – 加一个空格(需要空行隔开生效)– 无需列表1– 无序列表2– 无序列表313、有序列表：使用 数字 加一个英文句点(需要空行隔开生效)1. 有序列表2. 有序列表3. 有序列表4. 有序列表5. 有序列表14、行缩进：使用 “:加空格”: 这里有个空格，可进行行缩进。15、换行缩进形成代码区块这里先换行，然后缩进4个空格，之后的内容便可以原样显示了，适合用于显示代码内容。直到文本结束或最后一个存在缩进的行为止。16、块引用&gt;给引用的文本开始位置都加一个 ‘&gt;’，&gt;便可组成一个块引用。在块引用中，可以结合&gt;其他markdown元素一块使用，比如列表。&gt;**强调**也可以只在第一行加大于号，其他位置不加。&gt;- 块引用里使用列表，需要和上面的内容隔开一个空行&gt;- 记得加空格哦。如果你要在 markdown 中使用特殊字符，需要对它们进行转义。 如果你对 markdown 的来龙去脉很感兴趣，并参与研究，请移步这里。","tags":[{"name":"markdown","slug":"markdown","permalink":"http://lionel0806.github.io/tags/markdown/"}]},{"title":"关于sizeof","date":"2014-07-08T16:00:00.000Z","path":"2014/07/09/2014-07-09-about-sizeof/","text":"前两天犯了一个愚蠢的错误，由于对sizeof理解的错误，导致代码出现了一个bug,具体代码逻辑如下： char buf[512]; char *ptr; int size; ptr = buf; size = sizeof(ptr); 本来是计算buf的大小，但这样写其实只是得到 char指针类型的大小，错误的以为ptr指向buf时，用sizeof获取的也是buf的大小。通过了解，如果sizeof的操作数为指针时，不管指针指向什么类型，值都是指针类型的大小，32位系统为4.具体sizeof的结果如下： 1、当操作数为数据类型时，所得结果为给数据类型的大小。如：32bit系统上，sizeof（char）＝ 1 ，sizeof（int） ＝ 4。 2、当操作数是指针时，sizeof依赖于编译器。例如Microsoft C/C++7.0中，near类指针字节数为2，far、huge类指针字节数为4。一般Unix的指针字节数为4。 3、当操作数具有数组类型时，其结果是数组的总字节数。 4、联合类型操作数的sizeof是其最大字节成员的字节数。结构类型操作数的sizeof是这种类型对象的总字节数，包括任何垫补在内。 让我们看如下结构： struct { char b; double x; } a; 在某些机器上sizeof（a）=12，而一般sizeof（char）+ sizeof（double）= 9。 这是因为编译器在考虑对齐问题时，在结构中插入空位以控制各成员对象的地址对齐。如double类型的结构成员x要放在被4整除的地址。 5、如果操作数是函数中的数组形参或函数类型的形参，sizeof给出其指针的大小。","tags":[{"name":"c","slug":"c","permalink":"http://lionel0806.github.io/tags/c/"},{"name":"sizeof","slug":"sizeof","permalink":"http://lionel0806.github.io/tags/sizeof/"}]},{"title":"安装archlinux","date":"2014-04-25T16:00:00.000Z","path":"2014/04/26/2014-04-26-install-archlinux/","text":"活着就是为了折腾，Ubuntu已经用了4年多了吧，从最近几年看来，ubuntu的发展目的是要面向大众化，由于要适合大众，所以他的操作更简单，图形界面更美观，这就导致它越来越笨重。对于一个追求速度，喜欢命令模式的程序猿，ubuntu已然不能满足我的要求，所以安装archlinux的想法产生了，活着不就是为了折腾嘛，于是一步一步定制专属自己的linux系统。 1.下载archlinux镜像文件2.制作usb安装盘 # dd bs=4M if=&lt;/archlinux-2014.04.01-dual.iso/的/路径&gt; of=/dev/&lt;U盘文件&gt; &amp;&amp; sync 3.从U盘启动选择Boot Arch Linux4.配置安装 1)连接网络 有线连接： # dhcpcd 无线连接： # wifi-menu ADSL 宽带连接： 配置： # pppoe-setup 连接： # systemctl start adsl 2)选择软件源 # vi /etc/pacman.d/mirrorlist 更新本地数据库： # pacman -Syy 5.分区 1)分区方案： $ lsblk /dev/sda -o NAME,FSTYPE,SIZE,MOUNTPOINT NAME FSTYPE SIZE MOUNTPOINT sda 120G ├─sda1 ext4 36G / ├─sda2 ext4 80G /home └─sda3 swap 4G [SWAP] 注意：swap分区大小建议等于或两倍于内存。 2)分区： MBR 分区： # cfdisk /dev/sda GPT 分区： # cgdisk /dev/sda 6.创建文件系统： 创建 ext4 分区： # mkfs.ext4 /dev/sda1 # mkfs.ext4 /dev/sda2 创建并激活 swap 分区： # mkswap /dev/sda3 # swapon /dev/sda3 7.系统安装 1)挂载分区： 挂在 / 分区： # mount /dev/sda? /mnt 挂在home分区： # mkdir /mnt/home # mount /dev/sda? /mnt/home 2)安装基础系统： # pacstrap -i /mnt base 3)生成fstab # genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab 8.进入新系统 # arch-chroot /mnt /bin/bash 9.配置local 1）编辑/etc/locale.gen，移除需要的行前的 #： # vi /etc/locale.gen 简体中文用户，可移除下列行前的 # ： #zh_CN.UTF-8 UTF-8 2)更新设置： # locale-gen 3)设置默认语言 # echo LANG=&lt;语言&gt; &gt; /etc/locale.conf 4)简体中文用户可执行： # echo LANG=zh_CN.UTF-8 &gt; /etc/locale.conf 5)时区 查看时区： 时区： # ls /usr/share/zoneinfo/ 子时区： # ls /usr/share/zoneinfo/&lt;时区&gt;/ 设置时区： # ln -s /usr/share/zoneinfo/&lt;时区&gt;/&lt;子时区&gt; /etc/localtime 中国大陆用户可执行： # ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime 6)硬件时间： 推荐）使用UTC时间： # hwclock --systohc --utc 使用本地时间： !__ 使用本地时间可能会引起某些不可修复的bug。 # hwclock --systohc --localtime 10.创建 ramdisk 环境 （可选）配置 # vi /etc/mkinitcpio.conf 创建： # mkinitcpio -p linux 11.为 root 用户设置密码 # passwd 安装Grub引导器 1)安装 BIOS + MBR： # pacman -S grub # grub-install --target=i386-pc --recheck /dev/sda 2）生成配置文件： # grub-mkconfig -o /boot/grub/grub.cfg 3）欲引导其他系统，如 Windows ，可执行： # pacman -S os-prober # grub-mkconfig -o /boot/grub/grub.cfg 退出安装环境 退回安装环境 # exit 卸载新分区 # umount -R /mnt 重启 # reboot 用户管理 1）添加一个典型的桌面用户： # useradd -m -g users -G wheel -s /bin/bash &lt;用户名&gt; 2）设置密码： # passwd &lt;用户名&gt; 4)配置 sudo: 安装 sudo： # pacman -S sudo 配置： # EDITOR=nano visudo 反注释该行（删去 # ）： # %wheel ALL=(ALL) ALL 5)将允许获取 root 权限的用户加入 wheel 用户组（若用户已在该组则跳过） # gpasswd -a &lt;用户名&gt; wheel 6)使用 sudo 时，在输入 &lt;命令&gt; 部分 Tab 补全会失效。如需启用 sudo 的 Tab 补全，执行： $ sudo pacman -S bash-completion $ echo complete -cf sudo &gt;&gt; ~/.bashrc 15.声音管理 1)安装 alsa-utils # pacman -S alsa-utils 2)配置： # alsamixer 配置 GUI（图形用户界面） 1) 安装显卡驱动: 确定显卡型号： $ lspci | grep VGA 对应可选驱动包： Intel 显卡：xf86-video-intel nVidia 显卡： GeForce 7 以上：xf86-video-nouveau；nvidia GeForce 6/7：xf86-video-nouveau；nvidia-304xx AMD/ATI 显卡：xf86-video-ati；AMD Catalyst（Arch Wiki） 安装驱动： # pacman -S &lt;驱动包&gt; 2) 安装 X 窗口系统: X 窗口系统（X11/X）是诸多桌面环境的基础。 安装 Xorg Server # pacman -S xorg-server xorg-server-utils xorg-xinit 添加3D支持 # pacman -S mesa 添加触摸板支持 # pacman -S xf86-input-synaptics 安装字体 （推荐）Dejavu和文泉驿-微米黑： # pacman -S ttf-dejavu wqy-microhei 安装桌面环境 Arch Linux 官方提供支持的桌面环境：Cinnamon（官网）：cinnamonEnlightenment（官网）：enlightenment17GNOME（官网)：gnome、gnome-extra（附加功能包）KDE（官网)：kde（完全版）、kdebase（基础版）、kde-l10n-zh_cn（简体中文包）LXDE（官网)：lxde。Xfce（官网)：xfce4、xfce4-goodies（附加功能包）其他桌面环境：Arch Wiki更加轻量级的窗口管理器：：Arch Wiki 安装： # pacman -S &lt;桌面环境组&gt; 启动桌面环境 启动方式有两种：从命令行以 startx 启动；使用显示管理器（Display Manager）。 startx：（以GNOME为例） 配置： $ cp /etc/skel/.xinitrc ~ $ vi ~/.xinitrc 反注释对应行： # exec gnome-session 启动： $ startx 显示管理器：（以GDM为例）从命令行启动： # systemctl start gdm.service 随系统启动： # systemctl enable gdm.service 安装输入法 fcitx： 安装： # pacman -S fcitx-im 配置： export GTK_IM_MODULE=fcitx export QT_IM_MODULE=fcitx export XMODIFIERS=\"@im=fcitx\" KDM、GDM、LightDM 等显示管理器的用户，向 ~/.xprofile添加以上内容。使用 startx 或 slim 的用户，向 ~/.xinitrc 添加以上内容。为在GNOME上使用fcitx，需禁用iBus： $ gsettings set org.gnome.settings-daemon.plugins.keyboard active false AUR（Arch 用户软件仓库） Arch Linux预设几个软件仓库中可能没有用户需要的软件包。遇到这种情况时，可上AUR检索。AUR是是为用户而建、由用户主导的Arch软件仓库。AUR中的软件包以软件包生成脚本（PKGBUILD）的形式提供，用户自己通过makepkg生成包，再由pacman安装。创建AUR的初衷是方便用户维护和分享新软件包，并由官方定期从中挑选软件包进入[community]仓库。Yaourt是由社区编写的脚本，方便用户从AUR上获取需要的软件。以下介绍Yaourt的安装和使用。 1) 安装 Yaourt并不在官方软件源中，除从AUR中安装，还可通过第三方软件源进行安装： 添加软件源： 将下列内容添加至 /etc/pacman.conf ： 源1： [archlinuxfr] SigLevel = Never Server = http://repo.archlinux.fr/$arch 源2（Arch Linux CN 友情提供 :) ）： [archlinuxcn] SigLevel = Never Server = http://repo.archlinuxcn.org/$arch 安装： # pacman -Sy base-devel yaourt 2) 使用 Yaourt 可以安装来自官方源的软件： $ yaourt &lt;软件名&gt; 更新所有包（包括来自官方源的包）： $ yaourt -Syua 搜索： $ yaourt &lt;关键字&gt;","tags":[{"name":"archlinux","slug":"archlinux","permalink":"http://lionel0806.github.io/tags/archlinux/"},{"name":"安装","slug":"安装","permalink":"http://lionel0806.github.io/tags/安装/"}]},{"title":"关于开源软件redis","date":"2014-04-03T16:00:00.000Z","path":"2014/04/04/2014-04-04-about-redis/","text":"最近读redis代码，redis是一个key-value存储系统,详情请看官网介绍redis，仅2万多行代码，实现如此强大的功能，真是让人不由的惊叹！而且代码是非常之漂亮, 《redis设计与实现》可以帮助你了解redis的具体实现，redis的github地址。","tags":[{"name":"开源，redis","slug":"开源，redis","permalink":"http://lionel0806.github.io/tags/开源，redis/"}]},{"title":"nginx编译报错","date":"2014-03-23T16:00:00.000Z","path":"2014/03/24/2014-04-10-install-nginx-on-ubuntu/","text":"在ubuntu(32bit)上安装nginx执行configure时遇到错误如下： ./configure: error: the HTTP rewrite module requires the PCRE library. You can either disable the module by using --without-http_rewrite_module option, or install the PCRE library into the system, or build the PCRE library statically from the source with nginx by using --with-pcre=&lt;path&gt; option. 貌似缺少pcre库，在网上搜了，说是需要安装pcre-devel,可是ubuntu上安装是找不到pcre-devel。可能是名字变了，后来终于找到解决办法，需要安装 libpcre3 libpcre3-dev： # sudo apt-get install libpcre3 libpcre3-dev","tags":[{"name":"nginx","slug":"nginx","permalink":"http://lionel0806.github.io/tags/nginx/"},{"name":"pcre","slug":"pcre","permalink":"http://lionel0806.github.io/tags/pcre/"}]},{"title":"横琴岛游记","date":"2014-03-23T16:00:00.000Z","path":"2014/03/24/2014-03-24-cycling-to-hengqin/","text":"每次游玩回来，或多或少总会有那么一些感想,而这次感触颇深，也许与我最近的心情有关吧。从小到大，语文一直不好，因此而没少挨老师的批，以至于现在坐在电脑前想写点东西的时候，总感觉缺少一些词藻，把心里的想法和感受用语言这种奇怪的东西表达出来。犹豫了许久，决定还是把它记下来吧，也许二十年、三十年或者更老，记不起事的时候翻出来看看，也许能勾起对年轻时的回忆,也不失为一件美好的事！再说对于我这种记性不是很好的动物来说,记下来总归是安全的。 最近心情一直不怎么好，可能是这段时间工作上的事少，我这人有点贱，一闲下来就有点不淡定，容易想一些乱七八糟的事情，一想就郁闷。什么结婚啊、买房啊，最近听这些话题太多太多了,听多了不由的让人不想啊,唉！平时由于工作忙，没有太多时间去想这些,其实我压根不愿意想去这些事情，总抱着一种该来的总会来的态度。 昨天一同事说打算骑自行车去横琴岛玩，问我去不去，想了想去就去呗，反正也没啥坏处，还可以锻炼下身体，减减肥肉，说不定还会有一些意外的收获，何乐而不为。就是可怜了我那坐骑,跟随了我大半年时间，最近老是咯吱咯吱响，不知道还能不能坚持下来，要是在半路上罢工，那就麻烦啦。 早上十点从家里出发，路边随便买了点早餐，按照提前约好的时间来到华发广场集合，一行总共六人。天气特给力，不冷不热，偶尔还有点微风，真是出去玩的好时间。蹬着单车，微风从脸颊吹过，那感觉就一个字“爽”！有点可惜的是自行车后刹车不灵，一路上不敢骑太快，单怕和那些奔驰宝马亲吻一下。 大约两个小时，到了横琴，又累又饿，也到了午饭的时候，路边找了家快餐店，随便点了份快餐和一杯奶茶，我勒个去，奶茶杯怎么那么旧，感觉很脏似的，不过那快餐还是蛮好吃的，或许是饿了的缘故吧，大家狼吞虎咽地几下吃完了，然后稍微坐了一会，又开始出发了，直奔海边。 沿着海边有一条很长的水泥路，两边有护栏，路很平坦，毫无遮挡,一路飞奔,真是爽歪了!到了海边，大家一起合了个影，帮我们照相的是一中年大叔，那大叔蛮有意思，照完之后他拿着我手机摆出个姿势，示意要扔给我，我还以为这大叔发疯了,急忙一边跑一边喊“别别别，我接不住”，后来大叔笑着给我手机，说“我跟你开个玩笑而已，我怎么会扔呢”，呵呵,是我想多了.在海边碰到一小伙，跟我年龄差不多，聊了几句，说是专门过来看海，却没看到蓝色的大海，有点遗憾。卷起裤腿,跑到水里时,突然一个浪过来,悲剧啊,裤子全湿了.在海边,微风吹过,听着海浪的声音,心情一下子舒畅了好多，所有负担、所有不愉快的事统统抛到九霄云外,全身感觉格外的轻松!要是再有一个心爱的姑娘一起,那就完美了. 转眼四点多了,该回去了,我们没有原路返回,本来打算找一条近路,结果长隆隧道不让自行车走,我去,摩托车让通过,就是不让自行车走,要我说直接冲过去得类,反正那守卫也没有车,肯定追不上.可另外一哥们太谨慎了,不同意.我们只好再寻找路线了.接着就悲剧更悲剧了,一路上都在修路,坑坑洼洼还是小事,关键土太厚了,一辆大车过去,整个人感觉被土埋了,人没老,头发先变白了.有种回到老家的感觉.这一路就不太爽了,坑坑洼洼的人家新车可以很轻松的骑过去,我那破车咋整也骑不快,一路他们一直都在等我,搞得我都有些不好意思,更不幸的是不小心摔到,腿上刮掉一层皮,还好,谁叫咱是土生土长的农村人,这点小伤算个屁,站起来拍拍屁股继续走着. 晚上八点多才到市区,大家都饿坏了,突然路边冒出一家酱饼小摊,刚出锅的实在是太好吃了,没想到珠海还有这货,真是太让人意外了,想想还是在大学时吃过,差不多两年没见过这玩意了.最后找了家饭馆,吃完饭各回各家,该干嘛干嘛! 回到家坐下来想想,这次出去还是蛮有意思的.我想当时如果不去的话,这一天就在家睡觉啊什么的,同样会过去,然后感叹,唉!周末就这样过去了.人生也一样,不能老是处在当时没做,过了后悔这种无限循环中.跟着心走,想做就做,这样即使到死的时候,也不会因当初错过而后悔. 横琴. 海边集体照. 海浪. 回去的路上.","tags":[{"name":"横琴","slug":"横琴","permalink":"http://lionel0806.github.io/tags/横琴/"},{"name":"游记","slug":"游记","permalink":"http://lionel0806.github.io/tags/游记/"},{"name":"自行车","slug":"自行车","permalink":"http://lionel0806.github.io/tags/自行车/"}]},{"title":"内存死机问题","date":"2014-03-09T16:00:00.000Z","path":"2014/03/10/2014-03-10-crash-about-memory/","text":"最近遇到一个内存导致死机的问题，这种问题总是让人很恼火。 Mstar linux方案，由于对指针的检测不够完善，导致使用了空指针。一个问题整了我一天多时间，最后查出来尽然是珠海有线的码流里边有一个bouquet id是 -256，而代码里边没有处理到这种情况，获取到空指针，而在使用的时候又没有检测。幸亏有gdb可以用，可以定位到是那个模块出了问题。完了想想本来这个问题要不了那么长时间，一开始感觉这个变量有点问题，可就被脑子里那种 “不可能这儿出问题啊”的想法打消了，也许很多程序员会犯这种错误，总是很确信的说”这个不可能”，难道这个真的不可能吗？其实自己也不知道，不知道从哪儿来的这种莫名其妙的自信。由这个问题想到： 1)不要轻易做任何假设，负责可能会影响你做出准确的判断。 2)时时刻刻在使用指针时要检测是否为空，这个构建健壮软件的必要条件。 3)要让程序能经得起一些意味发生的情况，比如获取到错误变量等。","tags":[{"name":"bug","slug":"bug","permalink":"http://lionel0806.github.io/tags/bug/"},{"name":"内存","slug":"内存","permalink":"http://lionel0806.github.io/tags/内存/"},{"name":"死机","slug":"死机","permalink":"http://lionel0806.github.io/tags/死机/"}]},{"title":"提问的智慧","date":"2014-03-01T16:00:00.000Z","path":"2014/03/02/2014-03-02-smart-questions/","text":"作为一个技术人员，在学习和工作中，经常会遇到各种各样的问题，有时候我们没法解答的时候？也许最好的办法就是去求助与他人，不管是通过网络，还是面对面的方式。 于是如何问问题就变的尤为重要，下面这篇How to Ask Questions The Smart Way会给你答案，相信看完之后你会有很大收获。","tags":[{"name":"提问","slug":"提问","permalink":"http://lionel0806.github.io/tags/提问/"}]},{"title":"开始我的博客之旅","date":"2014-02-25T16:00:00.000Z","path":"2014/02/26/2014-02-26-startup-my-blog/","text":"目的 有人曾说，其实每个人都有好的想法，只是我们当中的大多数人不善于跟踪它而已，此博客主要记录平时的一些想法，一些技术问题以及分享一切美好的人和事… 为什么使用 github pages &amp; jekyll 来创建博客 昨天突然兴起，想创建一个属于自己的博客，于是就在google上搜索如何创建自己博客之类的话题， 搜到一篇写的非常详细的博文 搭建一个免费的，无限流量的Blog—-github Pages和Jekyll入门，免费而且无限流量，太符合我的需求了（是不是有点贱），于是就有了此博。 主题此博客的主题是在Michael Rose的 Minimal Mistakes主题的基础上修改的，在此感谢Michael Rose！","tags":[{"name":"jekyll, 博客","slug":"jekyll-博客","permalink":"http://lionel0806.github.io/tags/jekyll-博客/"}]}]