<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>统一账户管理系统RESTful api设计 | Lionel's Blog</title><link href=/favicon.ico rel="shortcut icon" type=image/x-icon><meta name=author content="归零"><meta name=description content="LDAPAdmin, 为用户管理提供一组API，以HTTP-based RESTful API的形式提供服务，提供了对ldap数据的增删改查功能。主要用到了HTTP的四种方法：GET， POST， PUT和 DELETE。
下面主要对LDAPAdmin 的REST Api做个简单介绍：
##Functionality ###Terminology ###User stories
 利用该组件的HTTP API，通过提交一组描述 用户／部门／系统／管理员的JSON数据，添加、删除、更新、查询数据； 利用该组件的HTTP API，可以方便的添加一条 用户／部门／系统／管理员记录； 利用该组件的HTTP API，可以方便的更新一条指定的 用户／部门／系统／管理员记录； 利用该组件的HTTP API，可以方便的将指定的 用户／部门／系统／管理员删除；  ###Scope and Non-Scope ####Scope
 用户／部门／系统／管理员 信息相关数据的添加、更新、删除； 查询 用户／部门／系统／管理员的信息； 用户／部门／系统／管理员 的有效性；  ###Non-Scope
 用户数据的可靠性，数据由管理员负责维护  ##Low-level Design ###Response Code
   Code Remind Description     200 OK – [GET] 成功返回用户请求的数据   201 CREATED – [POST/PUT] 新建/修改数据成功   204 NO CONTENT – [DELETE] 删除数据成功   400 INVALID REQUEST – [POST/PUT 用户发出请求有误，服务器没有新建/修改数据   401 Unauthorized – [*] token认证失败，token过期等情况   403 Forbidden – [*] 用户认证成功，但没有权限进行相应操作（权限细分）   404 NOT FOUND – [*] 请求的资源（在这里是表、字段不存在等情况）   406 NOT Acceptable – [GET] 用户请求的格式不可得   500 INTERNAL SERVER ERROR – [*] 服务器内部错误，用户无法判断请求是否成功    ###Response| Result #####除了每个响应都携带的返回码和可选的description字段，以下为该API的返回结果（具体形式在每种请求中都有举例）："><meta name=generator content="Hugo 0.81.0"><link rel=canonical href=https://lixianwa.github.io/posts/2015-04-10-ldapadmin-design/><meta property="og:title" content="统一账户管理系统RESTful api设计"><meta property="og:description" content="LDAPAdmin, 为用户管理提供一组API，以HTTP-based RESTful API的形式提供服务，提供了对ldap数据的增删改查功能。主要用到了HTTP的四种方法：GET， POST， PUT和 DELETE。
下面主要对LDAPAdmin 的REST Api做个简单介绍：
##Functionality ###Terminology ###User stories
 利用该组件的HTTP API，通过提交一组描述 用户／部门／系统／管理员的JSON数据，添加、删除、更新、查询数据； 利用该组件的HTTP API，可以方便的添加一条 用户／部门／系统／管理员记录； 利用该组件的HTTP API，可以方便的更新一条指定的 用户／部门／系统／管理员记录； 利用该组件的HTTP API，可以方便的将指定的 用户／部门／系统／管理员删除；  ###Scope and Non-Scope ####Scope
 用户／部门／系统／管理员 信息相关数据的添加、更新、删除； 查询 用户／部门／系统／管理员的信息； 用户／部门／系统／管理员 的有效性；  ###Non-Scope
 用户数据的可靠性，数据由管理员负责维护  ##Low-level Design ###Response Code
   Code Remind Description     200 OK – [GET] 成功返回用户请求的数据   201 CREATED – [POST/PUT] 新建/修改数据成功   204 NO CONTENT – [DELETE] 删除数据成功   400 INVALID REQUEST – [POST/PUT 用户发出请求有误，服务器没有新建/修改数据   401 Unauthorized – [*] token认证失败，token过期等情况   403 Forbidden – [*] 用户认证成功，但没有权限进行相应操作（权限细分）   404 NOT FOUND – [*] 请求的资源（在这里是表、字段不存在等情况）   406 NOT Acceptable – [GET] 用户请求的格式不可得   500 INTERNAL SERVER ERROR – [*] 服务器内部错误，用户无法判断请求是否成功    ###Response| Result #####除了每个响应都携带的返回码和可选的description字段，以下为该API的返回结果（具体形式在每种请求中都有举例）："><meta property="og:type" content="article"><meta property="og:url" content="https://lixianwa.github.io/posts/2015-04-10-ldapadmin-design/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-04-10T00:00:00+00:00"><meta property="article:modified_time" content="2015-04-10T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="统一账户管理系统RESTful api设计"><meta name=twitter:description content="LDAPAdmin, 为用户管理提供一组API，以HTTP-based RESTful API的形式提供服务，提供了对ldap数据的增删改查功能。主要用到了HTTP的四种方法：GET， POST， PUT和 DELETE。
下面主要对LDAPAdmin 的REST Api做个简单介绍：
##Functionality ###Terminology ###User stories
 利用该组件的HTTP API，通过提交一组描述 用户／部门／系统／管理员的JSON数据，添加、删除、更新、查询数据； 利用该组件的HTTP API，可以方便的添加一条 用户／部门／系统／管理员记录； 利用该组件的HTTP API，可以方便的更新一条指定的 用户／部门／系统／管理员记录； 利用该组件的HTTP API，可以方便的将指定的 用户／部门／系统／管理员删除；  ###Scope and Non-Scope ####Scope
 用户／部门／系统／管理员 信息相关数据的添加、更新、删除； 查询 用户／部门／系统／管理员的信息； 用户／部门／系统／管理员 的有效性；  ###Non-Scope
 用户数据的可靠性，数据由管理员负责维护  ##Low-level Design ###Response Code
   Code Remind Description     200 OK – [GET] 成功返回用户请求的数据   201 CREATED – [POST/PUT] 新建/修改数据成功   204 NO CONTENT – [DELETE] 删除数据成功   400 INVALID REQUEST – [POST/PUT 用户发出请求有误，服务器没有新建/修改数据   401 Unauthorized – [*] token认证失败，token过期等情况   403 Forbidden – [*] 用户认证成功，但没有权限进行相应操作（权限细分）   404 NOT FOUND – [*] 请求的资源（在这里是表、字段不存在等情况）   406 NOT Acceptable – [GET] 用户请求的格式不可得   500 INTERNAL SERVER ERROR – [*] 服务器内部错误，用户无法判断请求是否成功    ###Response| Result #####除了每个响应都携带的返回码和可选的description字段，以下为该API的返回结果（具体形式在每种请求中都有举例）："><link rel=stylesheet href=/css/semantic.min.css><link rel=stylesheet href=/css/icomoon.css><link rel=stylesheet href=/css/OverlayScrollbars.min.css><link rel=stylesheet href=/css/github-markdown.css><link rel=stylesheet href=/css/site.css><style>a:not(.ui.button):hover{text-decoration:underline}a:not(.ui.button){color:#2e8b57!important}.inverted a:not(.ui.button),.inverted a:not(.ui.button):hover{color:#8fbc8f!important}body.default{background-color:#f7f7f7;background-image:url(/me/background.jpeg)}body.dark{background-color:#000}</style><link rel=stylesheet data-highlight href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/gruvbox-light.min.css><link rel=stylesheet href=/css/custom.css></head><body class=default><nav class="ui secondary menu dream-menu"><div class=item><i class="large link bullseye icon dream-flip-toggle" title=翻转！></i></div><div class=item><i class="large link home icon" title=首页 onclick="window.location.href='https://lixianwa.github.io/'"></i></div><div class=item><i class="large link icon theme-switch" onclick=themeSwitch()></i></div><div class=item><i class="large link search icon" onclick=toggleSearch()></i></div></nav><div class=flip-container><div class=flipper><section class=front><div class=dream-max-width><div class="ui relaxed grid dream-grid dream-grid-single"><aside class="sixteen wide mobile sixteen wide tablet four wide computer column dream-single-aside"><div class="ui segment actions"><button class="ui circular icon button save-as-image" title=保存为图片 onclick=savePostAsImg()>
<i class="save icon"></i></button>
<a href="https://twitter.com/intent/tweet?text=%e7%bb%9f%e4%b8%80%e8%b4%a6%e6%88%b7%e7%ae%a1%e7%90%86%e7%b3%bb%e7%bb%9fRESTful%20api%e8%ae%be%e8%ae%a1&url=https%3a%2f%2flixianwa.github.io%2fposts%2f2015-04-10-ldapadmin-design%2f" class="ui circular twitter icon button"><i class="twitter icon"></i></a><a href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2flixianwa.github.io%2fposts%2f2015-04-10-ldapadmin-design%2f" class="ui circular facebook icon button"><i class="facebook icon"></i></a></div></aside><div class="sixteen wide mobile sixteen wide tablet twelve wide computer column markdown-body dream-single" id=dream-save-post-as-img><section class="ui attached segment"><header><h1 class="ui large header">统一账户管理系统RESTful api设计<div class="sub header">@
归零
|
星期五，四月 10 日，2015 年
| 4 分钟阅读
| 更新于
星期五，四月 10 日，2015 年</div></h1></header><article class=main><p><em><strong>LDAPAdmin</strong></em>, 为用户管理提供一组API，以HTTP-based RESTful API的形式提供服务，提供了对ldap数据的增删改查功能。主要用到了HTTP的四种方法：GET， POST， PUT和 DELETE。</p><p>下面主要对LDAPAdmin 的REST Api做个简单介绍：</p><p>##Functionality
###Terminology
###User stories</p><ul><li>利用该组件的HTTP API，通过提交一组描述 用户／部门／系统／管理员的JSON数据，添加、删除、更新、查询数据；</li><li>利用该组件的HTTP API，可以方便的添加一条 用户／部门／系统／管理员记录；</li><li>利用该组件的HTTP API，可以方便的更新一条指定的 用户／部门／系统／管理员记录；</li><li>利用该组件的HTTP API，可以方便的将指定的 用户／部门／系统／管理员删除；</li></ul><p>###Scope and Non-Scope
####Scope</p><ul><li>用户／部门／系统／管理员 信息相关数据的添加、更新、删除；</li><li>查询 用户／部门／系统／管理员的信息；</li><li>用户／部门／系统／管理员 的有效性；</li></ul><p>###Non-Scope</p><ul><li>用户数据的可靠性，数据由管理员负责维护</li></ul><p>##Low-level Design
###Response Code</p><table><thead><tr><th style=text-align:left>Code</th><th style=text-align:left>Remind</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>200</td><td style=text-align:left>OK – [GET]</td><td style=text-align:left>成功返回用户请求的数据</td></tr><tr><td style=text-align:left>201</td><td style=text-align:left>CREATED – [POST/PUT]</td><td style=text-align:left>新建/修改数据成功</td></tr><tr><td style=text-align:left>204</td><td style=text-align:left>NO CONTENT – [DELETE]</td><td style=text-align:left>删除数据成功</td></tr><tr><td style=text-align:left>400</td><td style=text-align:left>INVALID REQUEST – [POST/PUT</td><td style=text-align:left>用户发出请求有误，服务器没有新建/修改数据</td></tr><tr><td style=text-align:left>401</td><td style=text-align:left>Unauthorized – [*]</td><td style=text-align:left>token认证失败，token过期等情况</td></tr><tr><td style=text-align:left>403</td><td style=text-align:left>Forbidden – [*]</td><td style=text-align:left>用户认证成功，但没有权限进行相应操作（权限细分）</td></tr><tr><td style=text-align:left>404</td><td style=text-align:left>NOT FOUND – [*]</td><td style=text-align:left>请求的资源（在这里是表、字段不存在等情况）</td></tr><tr><td style=text-align:left>406</td><td style=text-align:left>NOT Acceptable – [GET]</td><td style=text-align:left>用户请求的格式不可得</td></tr><tr><td style=text-align:left>500</td><td style=text-align:left>INTERNAL SERVER ERROR – [*]</td><td style=text-align:left>服务器内部错误，用户无法判断请求是否成功</td></tr></tbody></table><p>###Response| Result
#####除了每个响应都携带的返回码和可选的description字段，以下为该API的返回结果（具体形式在每种请求中都有举例）：</p><table><thead><tr><th style=text-align:left>Method</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>GET</td><td style=text-align:left>返回被查询对象的列表，或为空（查询结果为空）</td></tr><tr><td style=text-align:left>POST</td><td style=text-align:left>返回是否插入成功（1为成功，0为失败）</td></tr><tr><td style=text-align:left>PUT</td><td style=text-align:left>返回被修改的行数</td></tr><tr><td style=text-align:left>DELETE</td><td style=text-align:left>返回被删除的行数</td></tr></tbody></table><p>###Http methods table
####1.用户</p><table><thead><tr><th style=text-align:left>HTTP Method</th><th style=text-align:left>URI</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>GET</td><td style=text-align:left>/v1/user</td><td style=text-align:left>获取所有用户记录</td></tr><tr><td style=text-align:left>GET</td><td style=text-align:left>/v1/user/:id</td><td style=text-align:left>根据id获取记录</td></tr><tr><td style=text-align:left>POST</td><td style=text-align:left>/v1/user</td><td style=text-align:left>添加用户记录</td></tr><tr><td style=text-align:left>PUT</td><td style=text-align:left>/v1/user/:id</td><td style=text-align:left>修改某个用户记录</td></tr><tr><td style=text-align:left>DELETE</td><td style=text-align:left>/v1/user/:id</td><td style=text-align:left>删除某个用户记录</td></tr></tbody></table><p>####2. 部门</p><table><thead><tr><th style=text-align:left>HTTP Method</th><th style=text-align:left>URI</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>GET</td><td style=text-align:left>/v1/department</td><td style=text-align:left>获取所有部门记录</td></tr><tr><td style=text-align:left>GET</td><td style=text-align:left>/v1/department/:id</td><td style=text-align:left>根据id获取部门记录</td></tr><tr><td style=text-align:left>GET</td><td style=text-align:left>/v1/department/:id?type=subtree</td><td style=text-align:left>根据id获取该部门下所有的用户和子部门记录</td></tr><tr><td style=text-align:left>POST</td><td style=text-align:left>/v1/department</td><td style=text-align:left>添加部门记录</td></tr><tr><td style=text-align:left>PUT</td><td style=text-align:left>/v1/department/:id</td><td style=text-align:left>修改某个部门记录</td></tr><tr><td style=text-align:left>DELETE</td><td style=text-align:left>/v1/department/:id</td><td style=text-align:left>删除某个部门记录</td></tr></tbody></table><p>####3. 系统</p><table><thead><tr><th style=text-align:left>HTTP Method</th><th style=text-align:left>URI</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>GET</td><td style=text-align:left>/v1/system</td><td style=text-align:left>获取所有组记录</td></tr><tr><td style=text-align:left>GET</td><td style=text-align:left>/v1/system/:id</td><td style=text-align:left>根据id获取记录</td></tr><tr><td style=text-align:left>POST</td><td style=text-align:left>/v1/system</td><td style=text-align:left>添加组记录</td></tr><tr><td style=text-align:left>PUT</td><td style=text-align:left>/v1/system/:id</td><td style=text-align:left>修改某个组记录</td></tr><tr><td style=text-align:left>DELETE</td><td style=text-align:left>/v1/system/:id</td><td style=text-align:left>删除某个组记录</td></tr></tbody></table><p>####4. 管理员</p><table><thead><tr><th style=text-align:left>HTTP Method</th><th style=text-align:left>URI</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>GET</td><td style=text-align:left>/v1/admin</td><td style=text-align:left>获取所有管理员记录</td></tr><tr><td style=text-align:left>GET</td><td style=text-align:left>/v1/admin/:id</td><td style=text-align:left>根据id获取记录</td></tr><tr><td style=text-align:left>POST</td><td style=text-align:left>/v1/admin</td><td style=text-align:left>添加管理员记录</td></tr><tr><td style=text-align:left>PUT</td><td style=text-align:left>/v1/admin/:id</td><td style=text-align:left>修改某个管理员记录</td></tr><tr><td style=text-align:left>DELETE</td><td style=text-align:left>/v1/admin/:id</td><td style=text-align:left>删除某个管理员记录</td></tr></tbody></table><p>###Record infomations
####1.用户
Response</p><pre><code>{
    &quot;Id&quot;: ${id},                  //用户ID
    &quot;UserName&quot;: ${user name},     //用户名
    &quot;Password&quot;: ${password},      //密码
    &quot;Department&quot;: ${department},  //所属部门
    &quot;Mail&quot;: ${mail},              //邮件
    &quot;Telephone&quot;: ${telephone},    //电话
}
</code></pre><p>####2.部门
Response</p><pre><code>{
    &quot;Id&quot;: ${id},                  //部门ID
    &quot;Name&quot;: ${name},              //部门名
    &quot;Parent&quot;, ${parent}           //上级部门   
}
</code></pre><p>####3.系统
Response</p><pre><code>{
    &quot;Id&quot;: ${id},                  //组ID
    &quot;Name&quot;: ${name},              //组名
    &quot;Member&quot;, ${member}           //成员
}
</code></pre><p>####4. 管理员
Response</p><pre><code>{
    &quot;Id&quot;: ${id},                  //管理员ID
    &quot;Name&quot;: ${name},              //名字
    &quot;Password&quot;, ${password}       //密码   
}
</code></pre><p>###RESTful API
####1. 用户</p><ul><li>GET /v1/user</li></ul><p>此API用于查询所有 用户记录</p><pre><code>Request:
GET / HTTP/1.1
Response:
HTTP/1.1 200 OK
Content-Type: application/json
 
{
   
}
</code></pre><p>Example
下面的示例将查询用户信息</p><pre><code>Request
GET /v1/user HTTP/1.1
Response
HTTP/1.1 200 OK
Content-Type: application/json
 
[
  {
  },
  {
  },
  ......
]
</code></pre><ul><li>GET /v1/user/:id
此API用于查询指定的用户记录</li></ul><pre><code>Request
GET /v1/user/:id HTTP/1.1
Response
HTTP/1.1 200 OK
Content-Type: application/json
 
{
    
}
</code></pre><p>Example
下面的示例将查询id为1的用户录</p><pre><code>Request
GET /v1/user/1 HTTP/1.1
Response
HTTP/1.1 200 OK
Content-Type: application/json
 
{
    &quot;code&quot;: 0,
    &quot;rows&quot;: 1,
    &quot;result&quot;: [{&quot;id&quot;: &quot;1&quot;, &quot;name&quot;: &quot;xxxx&quot;, &quot;password&quot;: &quot;xxxx&quot;, &quot;department&quot;:[1, 2], 
    &quot;mail&quot;:&quot;xxx@xywy.com&quot;, &quot;telephone&quot;:&quot;15212233445&quot;}]
}
</code></pre><ul><li>POST /v1/user
此API用于新增 用户记录记录</li></ul><pre><code>Request
POST /v1/user HTTP/1.1
Content-Type: application/json
 
{
    ${Record informations}
}

Response
HTTP/1.1 201 CREATED
Content-Type: application/json
 
{
    &quot;code&quot;:${code},   //type is int
    &quot;id&quot;: ${id}       //type is string, specifing the id inserted, which can be used in querying through the id    
}
</code></pre><p>Example
下面的示例将插入 用户记录</p><pre><code>Request
POST /v1/user HTTP/1.1
Content-Type: application/json
 
{
    ${Record informations}
}
Response
HTTP/1.1 201 CREATED
Content-Type: application/json
 
{
    &quot;code&quot;: 0,
    &quot;id&quot;: 1
}
</code></pre><ul><li>PUT /v1/user/:id
此API用于修改用户记录</li></ul><pre><code>Request
POST /v1/user/:id HTTP/1.1
Content-Type: application/json
 
{
 
}
Response
HTTP/1.1 201 CREATED
Content-Type: application/json
 
{
    &quot;code&quot;:0,
    &quot;rows&quot;: ${line}       //type is int
}
</code></pre><p>Example
下面的示例将修改用户信息</p><pre><code>Request
PUT /v1/user/1 HTTP/1.1
Content-Type: application/json
 
{
 
}
Response
HTTP/1.1 201 UPDATED
Content-Type: application/json
 
{
    &quot;code&quot;: 0,
    &quot;rows&quot;：3
}
</code></pre><ul><li>DELETE /v1/user/:id
此API用于删除用户记录</li></ul><pre><code>Request
DELETE /v1/user/:id
{
     
}
Response
HTTP/1.1 204 NO CONTENT
Content-Type: application/json
</code></pre><p>Example
下面的示例将删除用户记录</p><pre><code>Request
DELETE  /v1/user/1 HTTP/1.1
{
}
Response
HTTP/1.1 204 NO CONTENT
</code></pre><ol start=2><li>部门</li></ol><ul><li>GET /v1/department
此API用于查询所有部门记录</li></ul><pre><code>Request
GET /v1/department HTTP/1.1
Response
HTTP/1.1 200 OK
Content-Type: application/json
 
{
   ${Record informentions}
}
</code></pre><p>Example
下面的示例将查询部门信息</p><pre><code>Request
GET /v1/department HTTP/1.1
Response
HTTP/1.1 200 OK
Content-Type: application/json
 
[
  {
 
  },
  {
  },
  ......
]
</code></pre><ul><li>GET /v1/department/:id
此API用于查询指定的部门记录</li></ul><pre><code>Request
GET /v1/department/:id HTTP/1.1
Response
HTTP/1.1 200 OK
Content-Type: application/json
 
{
    
}
</code></pre><p>Example
下面的示例将查询id为1的部门记录</p><pre><code>Request
GET /v1/department/1 HTTP/1.1
Response
HTTP/1.1 200 OK
Content-Type: application/json
 
{
    &quot;code&quot;: 0,
    &quot;rows&quot;: 1,
    &quot;result&quot;: [{&quot;id&quot;: &quot;1&quot;, &quot;name&quot;: &quot;zonghezhikongzhongxin&quot;, &quot;parent&quot;: &quot;&quot;]
}
</code></pre><ul><li>GET /v1/department/:id?type=subtree
此API用于查询指定的部门的所有子用户和子部门记录（树形结构）</li></ul><pre><code>Request
GET /v1/department/:id?type=subtree HTTP/1.1
Response
HTTP/1.1 200 OK
Content-Type: application/json
 
{
    
}
</code></pre><p>Example
下面的示例将查询id为1的部门的详细信息（包括子部门和用户）记录</p><pre><code>Request
GET /v1/department/1?type=subtree HTTP/1.1

Response
HTTP/1.1 200 OK
Content-Type: application/json

{
    &quot;code&quot;: 0,
    &quot;rows&quot;: 1,
    &quot;result&quot;: {
                &quot;user&quot;:[
                        {&quot;id&quot;: 1, &quot;name&quot;: &quot;xxxx&quot;, &quot;department&quot;:[1], &quot;mail&quot;:&quot;xxxx@xywy.com&quot;, &quot;telephone&quot;:&quot;xxxxx&quot;}, 
                        {&quot;id&quot;: 2, &quot;name&quot;: &quot;xxxxx&quot;,&quot;department&quot;:[1, 2], &quot;mail&quot;:&quot;xxxxx@xywy.com&quot;, &quot;telephone&quot;:&quot;xxxxx&quot;},
                        ......
                       ]
               &quot;department&quot;:[
                              {&quot;id&quot;: 1 &quot;name&quot;:&quot;sa&quot;,   &quot;parent&quot;:1},
                              { &quot; id&quot;: 1, &quot;name&quot; : &quot;anquan&quot;, &quot;parent&quot; : 1 }
                                ......
                            ]
             }
 
</code></pre><ul><li>POST /v1/department
此API用于新增 部门记录</li></ul><pre><code>Request
POST /v1/department HTTP/1.1
Content-Type: application/json
 
{
    ${Record informations}
}

Response
HTTP/1.1 201 CREATED
Content-Type: application/json
 
{
    &quot;code&quot;:${code},   //type is int
    &quot;id&quot;: ${id}       //type is string, specifing the id inserted, which can be used in querying through the id    
}
</code></pre><p>Example
下面的示例将插入部门记录</p><pre><code>Request
POST /v1/department HTTP/1.1
Content-Type: application/json
 
{
    ${Record informations}
}

Response
HTTP/1.1 201 CREATED
Content-Type: application/json
 
{
    &quot;code&quot;: 0,
    &quot;id&quot;: 1
}
</code></pre><ul><li>PUT /v1/department/:id
此API用于修改部门记录</li></ul><pre><code>Request
POST /v1/department/:id HTTP/1.1
Content-Type: application/json
 
{
 
}
Response
HTTP/1.1 201 CREATED
Content-Type: application/json
 
{
    &quot;code&quot;:0,
    &quot;rows&quot;: ${line}       //type is int
}
</code></pre><p>Example
下面的示例将修改ID为1的部门信息</p><pre><code>Request
PUT /v1/department/1 HTTP/1.1
Content-Type: application/json
 
{
 
}

Response
HTTP/1.1 201 UPDATED
Content-Type: application/json
 
{
    &quot;code&quot;: 0,
    &quot;rows&quot;：3
}
</code></pre><ul><li>DELETE /v1/department/:id
此API用于删除部门记录</li></ul><pre><code>Request
DELETE /v1/department/:id
{
     
}

Response
HTTP/1.1 204 NO CONTENT
Content-Type: application/json
</code></pre><p>Example
下面的示例将删除部门记录</p><pre><code>Request
DELETE  /v1/department/1 HTTP/1.1
{
}

Response
HTTP/1.1 204 NO CONTENT
</code></pre><p>###3. 系统／管理员 与 用户Api很类似，只是URI稍有不同
####系统： /v1/system
####管理员： /v1/admin
返回记录信息在 Record informations中有说明。</p></article></section><article class="ui segment utterances-comments" data-html2canvas-ignore><script src=https://utteranc.es/client.js repo=lixianwa/comments-for-myblog issue-term=og:title theme=github-light crossorigin=anonymous async></script></article></div></div><footer class="ui basic center aligned segment" style=background-color:initial><p>© 2014 - 2022 Lionel's Blog</p><p>Powered by <a href=https://gohugo.io/ target=_blank>Hugo</a> with theme <a href=https://github.com/g1eny0ung/hugo-theme-dream target=_blank>Dream</a>.</p></footer></div></section><section class=back><div class=dream-max-width><header class="ui basic very padded segment dream-header"><div class="ui small circular image"><img src=/me/avatar.jpeg alt=avatar></div><div class=content><h1 class="ui medium header">归零的小窝<div class="sub header">收集、总结、分享</div></h1><article class="ui horizontal list"><a class=item href=/posts><i class="archive icon" title=归档></i></a><a class=item href=/categories><i class="th list icon" title=所有分类></i></a><a class=item href=/tags><i class="tags icon" title=所有标签></i></a></article><article class=dream-tags><a class="ui label" href=/tags/actor/ title=Actor>Actor</a>
<a class="ui label" href=/tags/archlinux/ title=archlinux>archlinux</a>
<a class="ui label" href=/tags/arthas/ title=arthas>arthas</a>
<a class="ui label" href=/tags/bug/ title=bug>bug</a>
<a class="ui label" href=/tags/c%E8%AF%AD%E8%A8%80/ title=c语言>c语言</a>
<a class="ui label" href=/tags/dapr/ title=Dapr>Dapr</a>
<a class="ui label" href=/tags/debug/ title=debug>debug</a>
<a class="ui label" href=/tags/dlv/ title=dlv>dlv</a>
<a class="ui label" href=/tags/docker/ title=Docker>Docker</a>
<a class="ui label" href=/tags/go/ title=Go>Go</a>
<a class="ui label" href=/tags/grpc/ title=gRPC>gRPC</a>
<a class="ui label" href=/tags/headless-service/ title="Headless service">Headless service</a>
<a class="ui label" href=/tags/hexo/ title=Hexo>Hexo</a>
<a class="ui label" href=/tags/ios/ title=iOS>iOS</a>
<a class="ui label" href=/tags/istio/ title=Istio>Istio</a>
<a class="ui label" href=/tags/java/ title=java>java</a>
<a class="ui label" href=/tags/jekyll/ title=jekyll>jekyll</a>
<a class="ui label" href=/tags/jupyter-notebook/ title="Jupyter notebook">Jupyter notebook</a>
<a class="ui label" href=/tags/kubernetes/ title=Kubernetes>Kubernetes</a>
<a class="ui label" href=/tags/letsencrypt/ title=Letsencrypt>Letsencrypt</a>
<a class="ui label" href=/tags/markdown/ title=markdown>markdown</a>
<a class="ui label" href=/tags/mongodb/ title=mongodb>mongodb</a>
<a class="ui label" href=/tags/nginx/ title=nginx>nginx</a>
<a class="ui label" href=/tags/pandas/ title=Pandas>Pandas</a>
<a class="ui label" href=/tags/reactivecocoa/ title=ReactiveCocoa>ReactiveCocoa</a>
<a class="ui label" href=/tags/redis/ title=redis>redis</a>
<a class="ui label" href=/tags/restful-api/ title="RESTFul API">RESTFul API</a>
<a class="ui label" href=/tags/solid/ title=SOLID>SOLID</a>
<a class="ui label" href=/tags/ssl%E8%AF%81%E4%B9%A6/ title=SSL证书>SSL证书</a>
<a class="ui label" href=/tags/swift/ title=Swift>Swift</a>
<a class="ui label" href=/tags/v2ray/ title=v2ray>v2ray</a>
<a class="ui label" href=/tags/xcode/ title=Xcode>Xcode</a>
<a class="ui label" href=/tags/%E5%86%85%E5%AD%98/ title=内存>内存</a>
<a class="ui label" href=/tags/%E5%8D%9A%E5%AE%A2/ title=博客>博客</a>
<a class="ui label" href=/tags/%E5%B7%A5%E5%85%B7/ title=工具>工具</a>
<a class="ui label" href=/tags/%E5%BC%80%E6%BA%90/ title=开源>开源</a>
<a class="ui label" href=/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ title=微服务>微服务</a>
<a class="ui label" href=/tags/%E6%8F%90%E9%97%AE/ title=提问>提问</a>
<a class="ui label" href=/tags/%E6%95%99%E7%A8%8B/ title=教程>教程</a>
<a class="ui label" href=/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ title=数据分析>数据分析</a>
<a class="ui label" href=/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/ title=数据库>数据库</a>
<a class="ui label" href=/tags/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/ title=最佳实践>最佳实践</a>
<a class="ui label" href=/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ title=“机器学习”>“机器学习”</a>
<a class="ui label" href=/tags/%E6%AD%BB%E6%9C%BA/ title=死机>死机</a>
<a class="ui label" href=/tags/%E6%B3%9B%E5%9E%8B/ title=泛型>泛型</a>
<a class="ui label" href=/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/ title=“深度学习”>“深度学习”</a>
<a class="ui label" href=/tags/%E6%B8%B8%E8%AE%B0/ title=游记>游记</a>
<a class="ui label" href=/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/ title=科学上网>科学上网</a>
<a class="ui label" href=/tags/%E7%AE%97%E5%AD%90/ title=算子>算子</a>
<a class="ui label" href=/tags/%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/ title=编译器优化>编译器优化</a>
<a class="ui label" href=/tags/%E7%BF%BB%E8%AF%91/ title=翻译>翻译</a>
<a class="ui label" href=/tags/%E8%87%AA%E8%A1%8C%E8%BD%A6/ title=自行车>自行车</a>
<a class="ui label" href=/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/ title=读书笔记>读书笔记</a></article></div></header><div class="ui relaxed grid dream-grid dream-back"><div class="sixteen wide mobile eight wide tablet four wide computer column dream-column"><article class="ui segment markdown-body"><div class="ui medium header">关于</div><p>要么忙着生活，要么赶着去死!</p></article></div><div class="sixteen wide mobile eight wide tablet four wide computer column dream-column"><article class="ui segment"><div class="ui medium header">社交链接</div><nav class="ui secondary menu dream-menu dream-socials"><div class=item><a href=/index.xml><i class="large rss square icon" title=RSS></i></a></div><div class=item><a href=mailto:lixianwa@gmail.com><i class="large mail icon" title=Email></i></a></div></nav></article></div><div class="sixteen wide mobile eight wide tablet four wide computer column dream-column"><article class="ui segment"><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/><img alt=知识共享许可协议 style=border-width:0 src=https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png></a><br>本作品采用<a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</article></div></div></div></section></div></div><script>window.defaultDark=null,window.backgroundDark="black",window.backgroundImageDark=null,window.darkNav=null,window.hasTwitterEmbed=null,window.hasTwitterEmbed&&(window.twttr=function(c,d,e){var b,f=c.getElementsByTagName(d)[0],a=window.twttr||{};return c.getElementById(e)?a:(b=c.createElement(d),b.id=e,b.src='https://platform.twitter.com/widgets.js',f.parentNode.insertBefore(b,f),a._e=[],a.ready=function(b){a._e.push(b)},a)}(document,'script','twitter-wjs'))</script><script src=/js/jquery.min.js></script><script src=/js/semantic.min.js></script><script src=/js/jquery.overlayScrollbars.min.js></script><script src=/js/header.js></script><script src=/js/main.js></script><script src=/js/theme.js></script><script src=/js/html2canvas.min.js></script><script src=/js/post.js></script><script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/highlight.min.js></script><script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/languages/ocaml.min.js></script><script>hljs.initHighlightingOnLoad(),setHighlightTheme();function setHighlightTheme(){var a=localStore.getItem('hugo-theme-dream-is-dark'),b,c,d;a=a?a:window.defaultDark?'y':a,b="gruvbox-light",c="gruvbox-dark",d=a==='y'?c:b,$('link[data-highlight]').attr('href','https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/'+d+'.min.css'),$('pre').css('background',a==='y'?'#333':'')}</script><div class="ui inverted segment" id=dream-search><div class="ui search"><div class="ui transparent input"><input class=prompt type=text placeholder=搜索></div><div class=results></div></div></div><script>$(document).ready(function(){$.getJSON('https://lixianwa.github.io//index.json',function(a){$('.ui.search').search({source:a,searchFields:['title'],showNoResults:!0})})})</script><script src=/js/search.js></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','172168556','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>